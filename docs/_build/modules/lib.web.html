

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>web Package &mdash; Change by Us v2.0-alpha documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0-alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Change by Us v2.0-alpha documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">Change by Us v2.0-alpha documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="web-package">
<h1>web Package<a class="headerlink" href="#web-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">web</span></tt> Package<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-lib.web"></span><p>web.py: makes web apps (<a class="reference external" href="http://webpy.org">http://webpy.org</a>)</p>
</div>
<div class="section" id="module-lib.web.application">
<span id="application-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">application</span></tt> Module<a class="headerlink" href="#module-lib.web.application" title="Permalink to this headline">¶</a></h2>
<p>Web application
(from web.py)</p>
<dl class="class">
<dt id="lib.web.application.application">
<em class="property">class </em><tt class="descclassname">lib.web.application.</tt><tt class="descname">application</tt><big>(</big><em>mapping=()</em>, <em>fvars={}</em>, <em>autoreload=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#application"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.application" title="Permalink to this definition">¶</a></dt>
<dd><p>Application to delegate requests based on path.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">urls</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;/hello&quot;</span><span class="p">,</span> <span class="s">&quot;hello&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">application</span><span class="p">(</span><span class="n">urls</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">hello</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">GET</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">return</span> <span class="s">&quot;hello&quot;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;/hello&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">&#39;hello&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.web.application.application.add_mapping">
<tt class="descname">add_mapping</tt><big>(</big><em>pattern</em>, <em>classname</em><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#application.add_mapping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.application.add_mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.application.application.add_processor">
<tt class="descname">add_processor</tt><big>(</big><em>processor</em><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#application.add_processor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.application.add_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a processor to the application.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">urls</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;/(.*)&quot;</span><span class="p">,</span> <span class="s">&quot;echo&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">application</span><span class="p">(</span><span class="n">urls</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">echo</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">GET</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span> <span class="k">return</span> <span class="n">name</span>
<span class="gp">...</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">handler</span><span class="p">):</span> <span class="k">return</span> <span class="s">&quot;hello, &quot;</span> <span class="o">+</span>  <span class="n">handler</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">add_processor</span><span class="p">(</span><span class="n">hello</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;/web.py&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">&#39;hello, web.py&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.web.application.application.browser">
<tt class="descname">browser</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#application.browser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.application.browser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.application.application.cgirun">
<tt class="descname">cgirun</tt><big>(</big><em>*middleware</em><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#application.cgirun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.application.cgirun" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a CGI handler. This is mostly useful with Google App Engine.
There you can just do:</p>
<blockquote>
<div>main = app.cgirun()</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="lib.web.application.application.get_parent_app">
<tt class="descname">get_parent_app</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#application.get_parent_app"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.application.get_parent_app" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.application.application.handle">
<tt class="descname">handle</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#application.handle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.application.handle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.application.application.handle_with_processors">
<tt class="descname">handle_with_processors</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#application.handle_with_processors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.application.handle_with_processors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.application.application.internalerror">
<tt class="descname">internalerror</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#application.internalerror"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.application.internalerror" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns HTTPError with &#8216;500 internal error&#8217; message</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.application.application.load">
<tt class="descname">load</tt><big>(</big><em>env</em><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#application.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.application.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes ctx using env.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.application.application.notfound">
<tt class="descname">notfound</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#application.notfound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.application.notfound" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns HTTPError with &#8216;404 not found&#8217; message</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.application.application.request">
<tt class="descname">request</tt><big>(</big><em>localpart='/'</em>, <em>method='GET'</em>, <em>data=None</em>, <em>host='0.0.0.0:8080'</em>, <em>headers=None</em>, <em>https=False</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#application.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.application.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes request to this application for the specified path and method.
Response will be a storage object with data, status and headers.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">urls</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;/hello&quot;</span><span class="p">,</span> <span class="s">&quot;hello&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">application</span><span class="p">(</span><span class="n">urls</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">hello</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">GET</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
<span class="gp">... </span>        <span class="n">web</span><span class="o">.</span><span class="n">header</span><span class="p">(</span><span class="s">&#39;Content-Type&#39;</span><span class="p">,</span> <span class="s">&#39;text/plain&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s">&quot;hello&quot;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;/hello&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span><span class="o">.</span><span class="n">data</span>
<span class="go">&#39;hello&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span><span class="o">.</span><span class="n">status</span>
<span class="go">&#39;200 OK&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">&#39;Content-Type&#39;</span><span class="p">]</span>
<span class="go">&#39;text/plain&#39;</span>
</pre></div>
</div>
<p>To use https, use https=True.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">urls</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;/redirect&quot;</span><span class="p">,</span> <span class="s">&quot;redirect&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">application</span><span class="p">(</span><span class="n">urls</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">redirect</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">GET</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">raise</span> <span class="n">web</span><span class="o">.</span><span class="n">seeother</span><span class="p">(</span><span class="s">&quot;/foo&quot;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;/redirect&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">&#39;Location&#39;</span><span class="p">]</span>
<span class="go">&#39;http://0.0.0.0:8080/foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;/redirect&quot;</span><span class="p">,</span> <span class="n">https</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">&#39;Location&#39;</span><span class="p">]</span>
<span class="go">&#39;https://0.0.0.0:8080/foo&#39;</span>
</pre></div>
</div>
<p>The headers argument specifies HTTP headers as a mapping object
such as a dict.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">urls</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;/ua&#39;</span><span class="p">,</span> <span class="s">&#39;uaprinter&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">uaprinter</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">GET</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s">&#39;your user-agent is &#39;</span> <span class="o">+</span> <span class="n">web</span><span class="o">.</span><span class="n">ctx</span><span class="o">.</span><span class="n">env</span><span class="p">[</span><span class="s">&#39;HTTP_USER_AGENT&#39;</span><span class="p">]</span>
<span class="gp">... </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">application</span><span class="p">(</span><span class="n">urls</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">&#39;/ua&#39;</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>     <span class="s">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="s">&#39;a small jumping bean/1.0 (compatible)&#39;</span>
<span class="gp">... </span><span class="p">})</span><span class="o">.</span><span class="n">data</span>
<span class="go">&#39;your user-agent is a small jumping bean/1.0 (compatible)&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.web.application.application.run">
<tt class="descname">run</tt><big>(</big><em>*middleware</em><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#application.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.application.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts handling requests. If called in a CGI or FastCGI context, it will follow
that protocol. If called from the command line, it will start an HTTP
server on the port named in the first command line argument, or, if there
is no argument, on port 8080.</p>
<p><cite>middleware</cite> is a list of WSGI middleware which is applied to the resulting WSGI
function.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.application.application.wsgifunc">
<tt class="descname">wsgifunc</tt><big>(</big><em>*middleware</em><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#application.wsgifunc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.application.wsgifunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a WSGI-compatible function for this application.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.application.auto_application">
<em class="property">class </em><tt class="descclassname">lib.web.application.</tt><tt class="descname">auto_application</tt><a class="reference internal" href="../_modules/lib/web/application.html#auto_application"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.auto_application" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.application.application" title="lib.web.application.application"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.application.application</span></tt></a></p>
<p>Application similar to <cite>application</cite> but urls are constructed 
automatiacally using metaclass.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">auto_application</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">hello</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">page</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">GET</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">return</span> <span class="s">&quot;hello, world&quot;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">foo</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">page</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/foo/.*&#39;</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">GET</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">return</span> <span class="s">&quot;foo&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;/hello&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">&#39;hello, world&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">&#39;/foo/bar&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">&#39;foo&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.application.subdir_application">
<tt class="descclassname">lib.web.application.</tt><tt class="descname">subdir_application</tt><a class="headerlink" href="#lib.web.application.subdir_application" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.application.application" title="lib.web.application.application"><tt class="xref py py-class docutils literal"><span class="pre">application</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="lib.web.application.subdomain_application">
<em class="property">class </em><tt class="descclassname">lib.web.application.</tt><tt class="descname">subdomain_application</tt><big>(</big><em>mapping=()</em>, <em>fvars={}</em>, <em>autoreload=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#subdomain_application"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.subdomain_application" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.application.application" title="lib.web.application.application"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.application.application</span></tt></a></p>
<p>Application to delegate requests based on the host.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">urls</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;/hello&quot;</span><span class="p">,</span> <span class="s">&quot;hello&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">application</span><span class="p">(</span><span class="n">urls</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">hello</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">GET</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">return</span> <span class="s">&quot;hello&quot;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapping</span> <span class="o">=</span> <span class="p">(</span><span class="s">r&quot;hello\.example\.com&quot;</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app2</span> <span class="o">=</span> <span class="n">subdomain_application</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app2</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;/hello&quot;</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s">&quot;hello.example.com&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">&#39;hello&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">app2</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">&quot;/hello&quot;</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s">&quot;something.example.com&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span><span class="o">.</span><span class="n">status</span>
<span class="go">&#39;404 Not Found&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span><span class="o">.</span><span class="n">data</span>
<span class="go">&#39;not found&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.web.application.subdomain_application.handle">
<tt class="descname">handle</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#subdomain_application.handle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.subdomain_application.handle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="lib.web.application.loadhook">
<tt class="descclassname">lib.web.application.</tt><tt class="descname">loadhook</tt><big>(</big><em>h</em><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#loadhook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.loadhook" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a load hook into an application processor.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">auto_application</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">():</span> <span class="s">&quot;something done before handling request&quot;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">add_processor</span><span class="p">(</span><span class="n">loadhook</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.application.unloadhook">
<tt class="descclassname">lib.web.application.</tt><tt class="descname">unloadhook</tt><big>(</big><em>h</em><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#unloadhook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.unloadhook" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts an unload hook into an application processor.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">auto_application</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">():</span> <span class="s">&quot;something done after handling request&quot;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">add_processor</span><span class="p">(</span><span class="n">unloadhook</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>    
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.application.autodelegate">
<tt class="descclassname">lib.web.application.</tt><tt class="descname">autodelegate</tt><big>(</big><em>prefix=''</em><big>)</big><a class="reference internal" href="../_modules/lib/web/application.html#autodelegate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.application.autodelegate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a method that takes one argument and calls the method named prefix+arg,
calling <cite>notfound()</cite> if there isn&#8217;t one. Example:</p>
<blockquote>
<div><p>urls = (&#8216;/prefs/(.*)&#8217;, &#8216;prefs&#8217;)</p>
<dl class="docutils">
<dt>class prefs:</dt>
<dd>GET = autodelegate(&#8216;<a href="#id4"><span class="problematic" id="id5">GET_</span></a>&#8216;)
def GET_password(self): pass
def GET_privacy(self): pass</dd>
</dl>
</div></blockquote>
<p><cite>GET_password</cite> would get called for <cite>/prefs/password</cite> while <cite>GET_privacy</cite> for 
<cite>GET_privacy</cite> gets called for <cite>/prefs/privacy</cite>.</p>
<p>If a user visits <cite>/prefs/password/change</cite> then <cite>GET_password(self, &#8216;/change&#8217;)</cite>
is called.</p>
</dd></dl>

</div>
<div class="section" id="module-lib.web.browser">
<span id="browser-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">browser</span></tt> Module<a class="headerlink" href="#module-lib.web.browser" title="Permalink to this headline">¶</a></h2>
<p>Browser to test web applications.
(from web.py)</p>
<dl class="exception">
<dt id="lib.web.browser.BrowserError">
<em class="property">exception </em><tt class="descclassname">lib.web.browser.</tt><tt class="descname">BrowserError</tt><a class="reference internal" href="../_modules/lib/web/browser.html#BrowserError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.BrowserError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="class">
<dt id="lib.web.browser.Browser">
<em class="property">class </em><tt class="descclassname">lib.web.browser.</tt><tt class="descname">Browser</tt><a class="reference internal" href="../_modules/lib/web/browser.html#Browser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.Browser" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="lib.web.browser.Browser.build_opener">
<tt class="descname">build_opener</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#Browser.build_opener"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.Browser.build_opener" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds the opener using urllib2.build_opener. 
Subclasses can override this function to prodive custom openers.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.browser.Browser.do_request">
<tt class="descname">do_request</tt><big>(</big><em>req</em><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#Browser.do_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.Browser.do_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.browser.Browser.find_link">
<tt class="descname">find_link</tt><big>(</big><em>text=None</em>, <em>text_regex=None</em>, <em>url=None</em>, <em>url_regex=None</em>, <em>predicate=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#Browser.find_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.Browser.find_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.browser.Browser.follow_link">
<tt class="descname">follow_link</tt><big>(</big><em>link=None</em>, <em>text=None</em>, <em>text_regex=None</em>, <em>url=None</em>, <em>url_regex=None</em>, <em>predicate=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#Browser.follow_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.Browser.follow_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.browser.Browser.get_forms">
<tt class="descname">get_forms</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#Browser.get_forms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.Browser.get_forms" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all forms in the current document.
The returned form objects implement the ClientForm.HTMLForm interface.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.browser.Browser.get_links">
<tt class="descname">get_links</tt><big>(</big><em>text=None</em>, <em>text_regex=None</em>, <em>url=None</em>, <em>url_regex=None</em>, <em>predicate=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#Browser.get_links"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.Browser.get_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all links in the document.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.browser.Browser.get_response">
<tt class="descname">get_response</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#Browser.get_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.Browser.get_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the current response.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.browser.Browser.get_soup">
<tt class="descname">get_soup</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#Browser.get_soup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.Browser.get_soup" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns beautiful soup of the current document.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.browser.Browser.get_text">
<tt class="descname">get_text</tt><big>(</big><em>e=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#Browser.get_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.Browser.get_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns content of e or the current document as plain text.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.browser.Browser.open">
<tt class="descname">open</tt><big>(</big><em>url</em>, <em>data=None</em>, <em>headers={}</em><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#Browser.open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.Browser.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens the specified url.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.browser.Browser.reset">
<tt class="descname">reset</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#Browser.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.Browser.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears all cookies and history.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.browser.Browser.select_form">
<tt class="descname">select_form</tt><big>(</big><em>name=None</em>, <em>predicate=None</em>, <em>index=0</em><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#Browser.select_form"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.Browser.select_form" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects the specified form.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.browser.Browser.show">
<tt class="descname">show</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#Browser.show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.Browser.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens the current page in real web browser.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.browser.Browser.submit">
<tt class="descname">submit</tt><big>(</big><em>**kw</em><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#Browser.submit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.Browser.submit" title="Permalink to this definition">¶</a></dt>
<dd><p>submits the currently selected form.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.browser.AppBrowser">
<em class="property">class </em><tt class="descclassname">lib.web.browser.</tt><tt class="descname">AppBrowser</tt><big>(</big><em>app</em><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#AppBrowser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.AppBrowser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.browser.Browser" title="lib.web.browser.Browser"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.browser.Browser</span></tt></a></p>
<p>Browser interface to test web.py apps.</p>
<p>b = AppBrowser(app)
b.open(&#8216;/&#8217;)
b.follow_link(text=&#8217;Login&#8217;)</p>
<p>b.select_form(name=&#8217;login&#8217;)
b[&#8216;username&#8217;] = &#8216;joe&#8217;
b[&#8216;password&#8217;] = &#8216;secret&#8217;
b.submit()</p>
<p>assert b.path == &#8216;/&#8217;
assert &#8216;Welcome joe&#8217; in b.get_text()</p>
<dl class="method">
<dt id="lib.web.browser.AppBrowser.build_opener">
<tt class="descname">build_opener</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#AppBrowser.build_opener"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.AppBrowser.build_opener" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.browser.AppHandler">
<em class="property">class </em><tt class="descclassname">lib.web.browser.</tt><tt class="descname">AppHandler</tt><big>(</big><em>app</em><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#AppHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.AppHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">urllib2.HTTPHandler</span></tt></p>
<p>urllib2 handler to handle requests using web.py application.</p>
<dl class="method">
<dt id="lib.web.browser.AppHandler.http_open">
<tt class="descname">http_open</tt><big>(</big><em>req</em><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#AppHandler.http_open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.AppHandler.http_open" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.browser.AppHandler.https_open">
<tt class="descname">https_open</tt><big>(</big><em>req</em><big>)</big><a class="reference internal" href="../_modules/lib/web/browser.html#AppHandler.https_open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.browser.AppHandler.https_open" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.browser.AppHandler.https_request">
<tt class="descname">https_request</tt><big>(</big><em>request</em><big>)</big><a class="headerlink" href="#lib.web.browser.AppHandler.https_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lib.web.db">
<span id="db-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">db</span></tt> Module<a class="headerlink" href="#module-lib.web.db" title="Permalink to this headline">¶</a></h2>
<p>Database API
(part of web.py)</p>
<dl class="exception">
<dt id="lib.web.db.UnknownParamstyle">
<em class="property">exception </em><tt class="descclassname">lib.web.db.</tt><tt class="descname">UnknownParamstyle</tt><a class="reference internal" href="../_modules/lib/web/db.html#UnknownParamstyle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.UnknownParamstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>raised for unsupported db paramstyles</p>
<p>(currently supported: qmark, numeric, format, pyformat)</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.db.UnknownDB">
<em class="property">exception </em><tt class="descclassname">lib.web.db.</tt><tt class="descname">UnknownDB</tt><a class="reference internal" href="../_modules/lib/web/db.html#UnknownDB"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.UnknownDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>raised for unsupported dbms</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.db.TransactionError">
<em class="property">exception </em><tt class="descclassname">lib.web.db.</tt><tt class="descname">TransactionError</tt><a class="reference internal" href="../_modules/lib/web/db.html#TransactionError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.TransactionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="function">
<dt id="lib.web.db.sqllist">
<tt class="descclassname">lib.web.db.</tt><tt class="descname">sqllist</tt><big>(</big><em>lst</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#sqllist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.sqllist" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the arguments for use in something like a WHERE clause.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sqllist</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">])</span>
<span class="go">&#39;a, b&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqllist</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
<span class="go">&#39;a&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqllist</span><span class="p">(</span><span class="s">u&#39;abc&#39;</span><span class="p">)</span>
<span class="go">u&#39;abc&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.db.sqlors">
<tt class="descclassname">lib.web.db.</tt><tt class="descname">sqlors</tt><big>(</big><em>left</em>, <em>lst</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#sqlors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.sqlors" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>left is a SQL clause like `tablename.arg = ` 
and `lst</cite> is a list of values. Returns a reparam-style
pair featuring the SQL that ORs together the clause
for each item in the lst.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sqlors</span><span class="p">(</span><span class="s">&#39;foo = &#39;</span><span class="p">,</span> <span class="p">[])</span>
<span class="go">&lt;sql: &#39;1=2&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqlors</span><span class="p">(</span><span class="s">&#39;foo = &#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">&lt;sql: &#39;foo = 1&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqlors</span><span class="p">(</span><span class="s">&#39;foo = &#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">&lt;sql: &#39;foo = 1&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqlors</span><span class="p">(</span><span class="s">&#39;foo = &#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">&lt;sql: &#39;(foo = 1 OR foo = 2 OR foo = 3 OR 1=2)&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.db.reparam">
<tt class="descclassname">lib.web.db.</tt><tt class="descname">reparam</tt><big>(</big><em>string_</em>, <em>dictionary</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#reparam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.reparam" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a string and a dictionary and interpolates the string
using values from the dictionary. Returns an <cite>SQLQuery</cite> for the result.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">reparam</span><span class="p">(</span><span class="s">&quot;s = $s&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">s</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="go">&lt;sql: &quot;s = &#39;t&#39;&quot;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reparam</span><span class="p">(</span><span class="s">&quot;s IN $s&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">s</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
<span class="go">&lt;sql: &#39;s IN (1, 2)&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.db.sqlquote">
<tt class="descclassname">lib.web.db.</tt><tt class="descname">sqlquote</tt><big>(</big><em>a</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#sqlquote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.sqlquote" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensures <cite>a</cite> is quoted properly for use in a SQL query.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;WHERE x = &#39;</span> <span class="o">+</span> <span class="n">sqlquote</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39; AND y = &#39;</span> <span class="o">+</span> <span class="n">sqlquote</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">&lt;sql: &quot;WHERE x = &#39;t&#39; AND y = 3&quot;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;WHERE x = &#39;</span> <span class="o">+</span> <span class="n">sqlquote</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39; AND y IN &#39;</span> <span class="o">+</span> <span class="n">sqlquote</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">&lt;sql: &quot;WHERE x = &#39;t&#39; AND y IN (2, 3)&quot;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="lib.web.db.SQLQuery">
<em class="property">class </em><tt class="descclassname">lib.web.db.</tt><tt class="descname">SQLQuery</tt><big>(</big><em>items=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#SQLQuery"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.SQLQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>You can pass this sort of thing as a clause in any db function.
Otherwise, you can pass a dictionary to the keyword argument <cite>vars</cite>
and the function will call reparam for you.</p>
<p>Internally, consists of <cite>items</cite>, which is a list of strings and
SQLParams, which get concatenated to produce the actual query.</p>
<dl class="method">
<dt id="lib.web.db.SQLQuery.append">
<tt class="descname">append</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#SQLQuery.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.SQLQuery.append" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="lib.web.db.SQLQuery.items">
<tt class="descname">items</tt><a class="headerlink" href="#lib.web.db.SQLQuery.items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="lib.web.db.SQLQuery.join">
<em class="property">static </em><tt class="descname">join</tt><big>(</big><em>items</em>, <em>sep=' '</em>, <em>prefix=None</em>, <em>suffix=None</em>, <em>target=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#SQLQuery.join"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.SQLQuery.join" title="Permalink to this definition">¶</a></dt>
<dd><p>Joins multiple queries.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">SQLQuery</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span> <span class="s">&#39;, &#39;</span><span class="p">)</span>
<span class="go">&lt;sql: &#39;a, b&#39;&gt;</span>
</pre></div>
</div>
<p>Optinally, prefix and suffix arguments can be provided.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">SQLQuery</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span> <span class="s">&#39;, &#39;</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&#39;(&#39;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s">&#39;)&#39;</span><span class="p">)</span>
<span class="go">&lt;sql: &#39;(a, b)&#39;&gt;</span>
</pre></div>
</div>
<p>If target argument is provided, the items are appended to target instead of creating a new SQLQuery.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.db.SQLQuery.query">
<tt class="descname">query</tt><big>(</big><em>paramstyle=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#SQLQuery.query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.SQLQuery.query" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Returns the query part of the sql query.</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">SQLQuery</span><span class="p">([</span><span class="s">&quot;SELECT * FROM test WHERE name=&quot;</span><span class="p">,</span> <span class="n">SQLParam</span><span class="p">(</span><span class="s">&#39;joe&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">query</span><span class="p">()</span>
<span class="go">&#39;SELECT * FROM test WHERE name=%s&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">paramstyle</span><span class="o">=</span><span class="s">&#39;qmark&#39;</span><span class="p">)</span>
<span class="go">&#39;SELECT * FROM test WHERE name=?&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="lib.web.db.SQLQuery.values">
<tt class="descname">values</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#SQLQuery.values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.SQLQuery.values" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Returns the values of the parameters used in the sql query.</dt>
<dd><div class="first last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">SQLQuery</span><span class="p">([</span><span class="s">&quot;SELECT * FROM test WHERE name=&quot;</span><span class="p">,</span> <span class="n">SQLParam</span><span class="p">(</span><span class="s">&#39;joe&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<span class="go">[&#39;joe&#39;]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.db.SQLParam">
<em class="property">class </em><tt class="descclassname">lib.web.db.</tt><tt class="descname">SQLParam</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#SQLParam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.SQLParam" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Parameter in SQLQuery.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">SQLQuery</span><span class="p">([</span><span class="s">&quot;SELECT * FROM test WHERE name=&quot;</span><span class="p">,</span> <span class="n">SQLParam</span><span class="p">(</span><span class="s">&quot;joe&quot;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span>
<span class="go">&lt;sql: &quot;SELECT * FROM test WHERE name=&#39;joe&#39;&quot;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">query</span><span class="p">()</span>
<span class="go">&#39;SELECT * FROM test WHERE name=%s&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<span class="go">[&#39;joe&#39;]</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.web.db.SQLParam.get_marker">
<tt class="descname">get_marker</tt><big>(</big><em>paramstyle='pyformat'</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#SQLParam.get_marker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.SQLParam.get_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.db.SQLParam.sqlquery">
<tt class="descname">sqlquery</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#SQLParam.sqlquery"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.SQLParam.sqlquery" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="lib.web.db.SQLParam.value">
<tt class="descname">value</tt><a class="headerlink" href="#lib.web.db.SQLParam.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="lib.web.db.sqlparam">
<tt class="descclassname">lib.web.db.</tt><tt class="descname">sqlparam</tt><a class="headerlink" href="#lib.web.db.sqlparam" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.db.SQLParam" title="lib.web.db.SQLParam"><tt class="xref py py-class docutils literal"><span class="pre">SQLParam</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="lib.web.db.SQLLiteral">
<em class="property">class </em><tt class="descclassname">lib.web.db.</tt><tt class="descname">SQLLiteral</tt><big>(</big><em>v</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#SQLLiteral"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.SQLLiteral" title="Permalink to this definition">¶</a></dt>
<dd><p>Protects a string from <cite>sqlquote</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sqlquote</span><span class="p">(</span><span class="s">&#39;NOW()&#39;</span><span class="p">)</span>
<span class="go">&lt;sql: &quot;&#39;NOW()&#39;&quot;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqlquote</span><span class="p">(</span><span class="n">SQLLiteral</span><span class="p">(</span><span class="s">&#39;NOW()&#39;</span><span class="p">))</span>
<span class="go">&lt;sql: &#39;NOW()&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.db.sqlliteral">
<tt class="descclassname">lib.web.db.</tt><tt class="descname">sqlliteral</tt><a class="headerlink" href="#lib.web.db.sqlliteral" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.db.SQLLiteral" title="lib.web.db.SQLLiteral"><tt class="xref py py-class docutils literal"><span class="pre">SQLLiteral</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="lib.web.db.database">
<tt class="descclassname">lib.web.db.</tt><tt class="descname">database</tt><big>(</big><em>dburl=None</em>, <em>**params</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.database" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates appropriate database using params.</p>
<p>Pooling will be enabled if DBUtils module is available. 
Pooling can be disabled by passing pooling=False in params.</p>
</dd></dl>

<dl class="class">
<dt id="lib.web.db.DB">
<em class="property">class </em><tt class="descclassname">lib.web.db.</tt><tt class="descname">DB</tt><big>(</big><em>db_module</em>, <em>keywords</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#DB"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.DB" title="Permalink to this definition">¶</a></dt>
<dd><p>Database</p>
<dl class="attribute">
<dt id="lib.web.db.DB.ctx">
<tt class="descname">ctx</tt><a class="headerlink" href="#lib.web.db.DB.ctx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.db.DB.delete">
<tt class="descname">delete</tt><big>(</big><em>table</em>, <em>where</em>, <em>using=None</em>, <em>vars=None</em>, <em>_test=False</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#DB.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.DB.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes from <cite>table</cite> with clauses <cite>where</cite> and <cite>using</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">DB</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="p">{})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Joe&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">where</span><span class="o">=</span><span class="s">&#39;name = $name&#39;</span><span class="p">,</span> <span class="nb">vars</span><span class="o">=</span><span class="nb">locals</span><span class="p">(),</span> <span class="n">_test</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;sql: &quot;DELETE FROM foo WHERE name = &#39;Joe&#39;&quot;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.web.db.DB.gen_clause">
<tt class="descname">gen_clause</tt><big>(</big><em>sql</em>, <em>val</em>, <em>vars</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#DB.gen_clause"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.DB.gen_clause" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.db.DB.insert">
<tt class="descname">insert</tt><big>(</big><em>tablename</em>, <em>seqname=None</em>, <em>_test=False</em>, <em>**values</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#DB.insert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.DB.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts <cite>values</cite> into <cite>tablename</cite>. Returns current sequence ID.
Set <cite>seqname</cite> to the ID if it&#8217;s not the default, or to <cite>False</cite>
if there isn&#8217;t one.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">DB</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="p">{})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;bob&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">created</span><span class="o">=</span><span class="n">SQLLiteral</span><span class="p">(</span><span class="s">&#39;NOW()&#39;</span><span class="p">),</span> <span class="n">_test</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span>
<span class="go">&lt;sql: &quot;INSERT INTO foo (age, name, created) VALUES (2, &#39;bob&#39;, NOW())&quot;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">query</span><span class="p">()</span>
<span class="go">&#39;INSERT INTO foo (age, name, created) VALUES (%s, %s, NOW())&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<span class="go">[2, &#39;bob&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.web.db.DB.multiple_insert">
<tt class="descname">multiple_insert</tt><big>(</big><em>tablename</em>, <em>values</em>, <em>seqname=None</em>, <em>_test=False</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#DB.multiple_insert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.DB.multiple_insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts multiple rows into <cite>tablename</cite>. The <cite>values</cite> must be a list of dictioanries, 
one for each row to be inserted, each with the same set of keys.
Returns the list of ids of the inserted rows.        
Set <cite>seqname</cite> to the ID if it&#8217;s not the default, or to <cite>False</cite>
if there isn&#8217;t one.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">DB</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="p">{})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">supports_multiple_insert</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="p">[{</span><span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot;email&quot;</span><span class="p">:</span> <span class="s">&quot;foo@example.com&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;bar&quot;</span><span class="p">,</span> <span class="s">&quot;email&quot;</span><span class="p">:</span> <span class="s">&quot;bar@example.com&quot;</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">multiple_insert</span><span class="p">(</span><span class="s">&#39;person&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">_test</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;sql: &quot;INSERT INTO person (name, email) VALUES (&#39;foo&#39;, &#39;foo@example.com&#39;), (&#39;bar&#39;, &#39;bar@example.com&#39;)&quot;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.web.db.DB.query">
<tt class="descname">query</tt><big>(</big><em>sql_query</em>, <em>vars=None</em>, <em>processed=False</em>, <em>_test=False</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#DB.query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.DB.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute SQL query <cite>sql_query</cite> using dictionary <cite>vars</cite> to interpolate it.
If <cite>processed=True</cite>, <cite>vars</cite> is a <cite>reparam</cite>-style list to use 
instead of interpolating.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">DB</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="p">{})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">&quot;SELECT * FROM foo&quot;</span><span class="p">,</span> <span class="n">_test</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;sql: &#39;SELECT * FROM foo&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">&quot;SELECT * FROM foo WHERE x = $x&quot;</span><span class="p">,</span> <span class="nb">vars</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">&#39;f&#39;</span><span class="p">),</span> <span class="n">_test</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;sql: &quot;SELECT * FROM foo WHERE x = &#39;f&#39;&quot;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">&quot;SELECT * FROM foo WHERE x = &quot;</span> <span class="o">+</span> <span class="n">sqlquote</span><span class="p">(</span><span class="s">&#39;f&#39;</span><span class="p">),</span> <span class="n">_test</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;sql: &quot;SELECT * FROM foo WHERE x = &#39;f&#39;&quot;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.web.db.DB.select">
<tt class="descname">select</tt><big>(</big><em>tables</em>, <em>vars=None</em>, <em>what='*'</em>, <em>where=None</em>, <em>order=None</em>, <em>group=None</em>, <em>limit=None</em>, <em>offset=None</em>, <em>_test=False</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#DB.select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.DB.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects <cite>what</cite> from <cite>tables</cite> with clauses <cite>where</cite>, <cite>order</cite>, 
<cite>group</cite>, <cite>limit</cite>, and <cite>offset</cite>. Uses vars to interpolate. 
Otherwise, each clause can be a SQLQuery.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">DB</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="p">{})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">_test</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;sql: &#39;SELECT * FROM foo&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">],</span> <span class="n">where</span><span class="o">=</span><span class="s">&quot;foo.bar_id = bar.id&quot;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">_test</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;sql: &#39;SELECT * FROM foo, bar WHERE foo.bar_id = bar.id LIMIT 5&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.web.db.DB.sql_clauses">
<tt class="descname">sql_clauses</tt><big>(</big><em>what</em>, <em>tables</em>, <em>where</em>, <em>group</em>, <em>order</em>, <em>limit</em>, <em>offset</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#DB.sql_clauses"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.DB.sql_clauses" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.db.DB.transaction">
<tt class="descname">transaction</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#DB.transaction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.DB.transaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a transaction.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.db.DB.update">
<tt class="descname">update</tt><big>(</big><em>tables</em>, <em>where</em>, <em>vars=None</em>, <em>_test=False</em>, <em>**values</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#DB.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.DB.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update <cite>tables</cite> with clause <cite>where</cite> (interpolated using <cite>vars</cite>)
and setting <cite>values</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">DB</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="p">{})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Joseph&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">where</span><span class="o">=</span><span class="s">&#39;name = $name&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;bob&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">created</span><span class="o">=</span><span class="n">SQLLiteral</span><span class="p">(</span><span class="s">&#39;NOW()&#39;</span><span class="p">),</span> <span class="nb">vars</span><span class="o">=</span><span class="nb">locals</span><span class="p">(),</span> <span class="n">_test</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span>
<span class="go">&lt;sql: &quot;UPDATE foo SET age = 2, name = &#39;bob&#39;, created = NOW() WHERE name = &#39;Joseph&#39;&quot;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">query</span><span class="p">()</span>
<span class="go">&#39;UPDATE foo SET age = %s, name = %s, created = NOW() WHERE name = %s&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<span class="go">[2, &#39;bob&#39;, &#39;Joseph&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.web.db.DB.where">
<tt class="descname">where</tt><big>(</big><em>table</em>, <em>what='*'</em>, <em>order=None</em>, <em>group=None</em>, <em>limit=None</em>, <em>offset=None</em>, <em>_test=False</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/lib/web/db.html#DB.where"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.db.DB.where" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects from <cite>table</cite> where keys are equal to values in <cite>kwargs</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">DB</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="p">{})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">bar_id</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">_test</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;sql: &#39;SELECT * FROM foo WHERE bar_id = 3&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">crust</span><span class="o">=</span><span class="s">&#39;dewey&#39;</span><span class="p">,</span> <span class="n">_test</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;sql: &quot;SELECT * FROM foo WHERE source = 2 AND crust = &#39;dewey&#39;&quot;&gt;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lib.web.debugerror">
<span id="debugerror-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">debugerror</span></tt> Module<a class="headerlink" href="#module-lib.web.debugerror" title="Permalink to this headline">¶</a></h2>
<p>pretty debug errors
(part of web.py)</p>
<p>portions adapted from Django &lt;djangoproject.com&gt; 
Copyright (c) 2005, the Lawrence Journal-World
Used under the modified BSD license:
<a class="reference external" href="http://www.xfree86.org/3.3.6/COPYRIGHT2.html#5">http://www.xfree86.org/3.3.6/COPYRIGHT2.html#5</a></p>
<dl class="function">
<dt id="lib.web.debugerror.debugerror">
<tt class="descclassname">lib.web.debugerror.</tt><tt class="descname">debugerror</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/debugerror.html#debugerror"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.debugerror.debugerror" title="Permalink to this definition">¶</a></dt>
<dd><p>A replacement for <cite>internalerror</cite> that presents a nice page with lots
of debug information for the programmer.</p>
<p>(Based on the beautiful 500 page from [Django](<a class="reference external" href="http://djangoproject.com/">http://djangoproject.com/</a>), 
designed by [Wilson Miner](<a class="reference external" href="http://wilsonminer.com/">http://wilsonminer.com/</a>).)</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.debugerror.djangoerror">
<tt class="descclassname">lib.web.debugerror.</tt><tt class="descname">djangoerror</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/debugerror.html#djangoerror"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.debugerror.djangoerror" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="lib.web.debugerror.emailerrors">
<tt class="descclassname">lib.web.debugerror.</tt><tt class="descname">emailerrors</tt><big>(</big><em>to_address</em>, <em>olderror</em>, <em>from_address=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/debugerror.html#emailerrors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.debugerror.emailerrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps the old <cite>internalerror</cite> handler (pass as <cite>olderror</cite>) to 
additionally email all errors to <cite>to_address</cite>, to aid in
debugging production websites.</p>
<p>Emails contain a normal text traceback as well as an
attachment containing the nice <cite>debugerror</cite> page.</p>
</dd></dl>

</div>
<div class="section" id="module-lib.web.form">
<span id="form-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">form</span></tt> Module<a class="headerlink" href="#module-lib.web.form" title="Permalink to this headline">¶</a></h2>
<p>HTML forms
(part of web.py)</p>
<dl class="class">
<dt id="lib.web.form.AttributeList">
<em class="property">class </em><tt class="descclassname">lib.web.form.</tt><tt class="descname">AttributeList</tt><a class="reference internal" href="../_modules/lib/web/form.html#AttributeList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.AttributeList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></p>
<p>List of atributes of input.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">AttributeList</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s">&#39;text&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">&lt;attrs: &#39;type=&quot;text&quot; name=&quot;x&quot; value=&quot;20&quot;&#39;&gt;</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.web.form.AttributeList.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#AttributeList.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.AttributeList.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.form.Button">
<em class="property">class </em><tt class="descclassname">lib.web.form.</tt><tt class="descname">Button</tt><big>(</big><em>name</em>, <em>*validators</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Button"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Button" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.form.Input" title="lib.web.form.Input"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.form.Input</span></tt></a></p>
<p>HTML Button.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Button</span><span class="p">(</span><span class="s">&quot;save&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="go">&#39;&lt;button id=&quot;save&quot; name=&quot;save&quot;&gt;save&lt;/button&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Button</span><span class="p">(</span><span class="s">&quot;action&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s">&quot;save&quot;</span><span class="p">,</span> <span class="n">html</span><span class="o">=</span><span class="s">&quot;&lt;b&gt;Save Changes&lt;/b&gt;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="go">&#39;&lt;button id=&quot;action&quot; value=&quot;save&quot; name=&quot;action&quot;&gt;&lt;b&gt;Save Changes&lt;/b&gt;&lt;/button&gt;&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.web.form.Button.render">
<tt class="descname">render</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Button.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Button.render" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.form.Checkbox">
<em class="property">class </em><tt class="descclassname">lib.web.form.</tt><tt class="descname">Checkbox</tt><big>(</big><em>name</em>, <em>*validators</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Checkbox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Checkbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.form.Input" title="lib.web.form.Input"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.form.Input</span></tt></a></p>
<p>Checkbox input.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Checkbox</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s">&#39;bar&#39;</span><span class="p">,</span> <span class="n">checked</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="go">&#39;&lt;input checked=&quot;checked&quot; type=&quot;checkbox&quot; id=&quot;foo_bar&quot; value=&quot;bar&quot; name=&quot;foo&quot;/&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Checkbox</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s">&#39;bar&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="go">&#39;&lt;input type=&quot;checkbox&quot; id=&quot;foo_bar&quot; value=&quot;bar&quot; name=&quot;foo&quot;/&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Checkbox</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="s">&#39;on&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="go">&#39;&lt;input checked=&quot;checked&quot; type=&quot;checkbox&quot; id=&quot;foo_bar&quot; value=&quot;bar&quot; name=&quot;foo&quot;/&gt;&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.web.form.Checkbox.get_default_id">
<tt class="descname">get_default_id</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Checkbox.get_default_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Checkbox.get_default_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Checkbox.get_value">
<tt class="descname">get_value</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Checkbox.get_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Checkbox.get_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Checkbox.render">
<tt class="descname">render</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Checkbox.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Checkbox.render" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Checkbox.set_value">
<tt class="descname">set_value</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Checkbox.set_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Checkbox.set_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.form.Dropdown">
<em class="property">class </em><tt class="descclassname">lib.web.form.</tt><tt class="descname">Dropdown</tt><big>(</big><em>name</em>, <em>args</em>, <em>*validators</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Dropdown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Dropdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.form.Input" title="lib.web.form.Input"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.form.Input</span></tt></a></p>
<p>Dropdown/select input.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Dropdown</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">],</span> <span class="n">value</span><span class="o">=</span><span class="s">&#39;b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="go">&#39;&lt;select id=&quot;foo&quot; name=&quot;foo&quot;&gt;\n  &lt;option value=&quot;a&quot;&gt;a&lt;/option&gt;\n  &lt;option selected=&quot;selected&quot; value=&quot;b&quot;&gt;b&lt;/option&gt;\n  &lt;option value=&quot;c&quot;&gt;c&lt;/option&gt;\n&lt;/select&gt;\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Dropdown</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;aa&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;bb&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;cc&#39;</span><span class="p">)],</span> <span class="n">value</span><span class="o">=</span><span class="s">&#39;b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="go">&#39;&lt;select id=&quot;foo&quot; name=&quot;foo&quot;&gt;\n  &lt;option value=&quot;a&quot;&gt;aa&lt;/option&gt;\n  &lt;option selected=&quot;selected&quot; value=&quot;b&quot;&gt;bb&lt;/option&gt;\n  &lt;option value=&quot;c&quot;&gt;cc&lt;/option&gt;\n&lt;/select&gt;\n&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.web.form.Dropdown.render">
<tt class="descname">render</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Dropdown.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Dropdown.render" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.form.File">
<em class="property">class </em><tt class="descclassname">lib.web.form.</tt><tt class="descname">File</tt><big>(</big><em>name</em>, <em>*validators</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#File"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.File" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.form.Input" title="lib.web.form.Input"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.form.Input</span></tt></a></p>
<p>File input.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">File</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;f&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="go">&#39;&lt;input type=&quot;file&quot; id=&quot;f&quot; name=&quot;f&quot;/&gt;&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.web.form.File.get_type">
<tt class="descname">get_type</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#File.get_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.File.get_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.form.Form">
<em class="property">class </em><tt class="descclassname">lib.web.form.</tt><tt class="descname">Form</tt><big>(</big><em>*inputs</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Form"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Form" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>HTML form.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">Form</span><span class="p">(</span><span class="n">Textbox</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="go">&#39;&lt;table&gt;\n    &lt;tr&gt;&lt;th&gt;&lt;label for=&quot;x&quot;&gt;x&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;x&quot; name=&quot;x&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;&#39;</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="lib.web.form.Form.d">
<tt class="descname">d</tt><a class="headerlink" href="#lib.web.form.Form.d" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Form.fill">
<tt class="descname">fill</tt><big>(</big><em>source=None</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Form.fill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Form.fill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Form.get">
<tt class="descname">get</tt><big>(</big><em>i</em>, <em>default=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Form.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Form.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Form.render">
<tt class="descname">render</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Form.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Form.render" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Form.render_css">
<tt class="descname">render_css</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Form.render_css"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Form.render_css" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Form.rendernote">
<tt class="descname">rendernote</tt><big>(</big><em>note</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Form.rendernote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Form.rendernote" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Form.validates">
<tt class="descname">validates</tt><big>(</big><em>source=None</em>, <em>_validate=True</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Form.validates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Form.validates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.form.Hidden">
<em class="property">class </em><tt class="descclassname">lib.web.form.</tt><tt class="descname">Hidden</tt><big>(</big><em>name</em>, <em>*validators</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Hidden"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Hidden" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.form.Input" title="lib.web.form.Input"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.form.Input</span></tt></a></p>
<p>Hidden Input.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Hidden</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s">&#39;bar&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="go">&#39;&lt;input type=&quot;hidden&quot; id=&quot;foo&quot; value=&quot;bar&quot; name=&quot;foo&quot;/&gt;&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.web.form.Hidden.get_type">
<tt class="descname">get_type</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Hidden.get_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Hidden.get_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Hidden.is_hidden">
<tt class="descname">is_hidden</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Hidden.is_hidden"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Hidden.is_hidden" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.form.Input">
<em class="property">class </em><tt class="descclassname">lib.web.form.</tt><tt class="descname">Input</tt><big>(</big><em>name</em>, <em>*validators</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Input" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="lib.web.form.Input.addatts">
<tt class="descname">addatts</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Input.addatts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Input.addatts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Input.get_default_id">
<tt class="descname">get_default_id</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Input.get_default_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Input.get_default_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Input.get_type">
<tt class="descname">get_type</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Input.get_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Input.get_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Input.get_value">
<tt class="descname">get_value</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Input.get_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Input.get_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Input.is_hidden">
<tt class="descname">is_hidden</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Input.is_hidden"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Input.is_hidden" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Input.render">
<tt class="descname">render</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Input.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Input.render" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Input.rendernote">
<tt class="descname">rendernote</tt><big>(</big><em>note</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Input.rendernote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Input.rendernote" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Input.set_value">
<tt class="descname">set_value</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Input.set_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Input.set_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.form.Input.validate">
<tt class="descname">validate</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Input.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Input.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.form.Password">
<em class="property">class </em><tt class="descclassname">lib.web.form.</tt><tt class="descname">Password</tt><big>(</big><em>name</em>, <em>*validators</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Password" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.form.Input" title="lib.web.form.Input"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.form.Input</span></tt></a></p>
<p>Password input.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Password</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;password&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s">&#39;secret&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="go">&#39;&lt;input type=&quot;password&quot; id=&quot;password&quot; value=&quot;secret&quot; name=&quot;password&quot;/&gt;&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.web.form.Password.get_type">
<tt class="descname">get_type</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Password.get_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Password.get_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.form.Radio">
<em class="property">class </em><tt class="descclassname">lib.web.form.</tt><tt class="descname">Radio</tt><big>(</big><em>name</em>, <em>args</em>, <em>*validators</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Radio"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Radio" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.form.Input" title="lib.web.form.Input"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.form.Input</span></tt></a></p>
<dl class="method">
<dt id="lib.web.form.Radio.render">
<tt class="descname">render</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Radio.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Radio.render" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.form.Textarea">
<em class="property">class </em><tt class="descclassname">lib.web.form.</tt><tt class="descname">Textarea</tt><big>(</big><em>name</em>, <em>*validators</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Textarea"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Textarea" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.form.Input" title="lib.web.form.Input"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.form.Input</span></tt></a></p>
<p>Textarea input.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Textarea</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s">&#39;bar&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="go">&#39;&lt;textarea id=&quot;foo&quot; name=&quot;foo&quot;&gt;bar&lt;/textarea&gt;&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.web.form.Textarea.render">
<tt class="descname">render</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Textarea.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Textarea.render" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.form.Textbox">
<em class="property">class </em><tt class="descclassname">lib.web.form.</tt><tt class="descname">Textbox</tt><big>(</big><em>name</em>, <em>*validators</em>, <em>**attrs</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Textbox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Textbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.form.Input" title="lib.web.form.Input"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.form.Input</span></tt></a></p>
<p>Textbox input.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Textbox</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s">&#39;bar&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="go">&#39;&lt;input type=&quot;text&quot; id=&quot;foo&quot; value=&quot;bar&quot; name=&quot;foo&quot;/&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Textbox</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
<span class="go">&#39;&lt;input type=&quot;text&quot; id=&quot;foo&quot; value=&quot;0&quot; name=&quot;foo&quot;/&gt;&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.web.form.Textbox.get_type">
<tt class="descname">get_type</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Textbox.get_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Textbox.get_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.form.Validator">
<em class="property">class </em><tt class="descclassname">lib.web.form.</tt><tt class="descname">Validator</tt><big>(</big><em>msg</em>, <em>test</em>, <em>jstest=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Validator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Validator" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="lib.web.form.Validator.valid">
<tt class="descname">valid</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#Validator.valid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.Validator.valid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="lib.web.form.attrget">
<tt class="descclassname">lib.web.form.</tt><tt class="descname">attrget</tt><big>(</big><em>obj</em>, <em>attr</em>, <em>value=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#attrget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.attrget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="lib.web.form.regexp">
<em class="property">class </em><tt class="descclassname">lib.web.form.</tt><tt class="descname">regexp</tt><big>(</big><em>rexp</em>, <em>msg</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#regexp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.regexp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.form.Validator" title="lib.web.form.Validator"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.form.Validator</span></tt></a></p>
<dl class="method">
<dt id="lib.web.form.regexp.valid">
<tt class="descname">valid</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="../_modules/lib/web/form.html#regexp.valid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.form.regexp.valid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lib.web.http">
<span id="http-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">http</span></tt> Module<a class="headerlink" href="#module-lib.web.http" title="Permalink to this headline">¶</a></h2>
<p>HTTP Utilities
(from web.py)</p>
<dl class="function">
<dt id="lib.web.http.expires">
<tt class="descclassname">lib.web.http.</tt><tt class="descname">expires</tt><big>(</big><em>delta</em><big>)</big><a class="reference internal" href="../_modules/lib/web/http.html#expires"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.http.expires" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs an <cite>Expires</cite> header for <cite>delta</cite> from now. 
<cite>delta</cite> is a <cite>timedelta</cite> object or a number of seconds.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.http.lastmodified">
<tt class="descclassname">lib.web.http.</tt><tt class="descname">lastmodified</tt><big>(</big><em>date_obj</em><big>)</big><a class="reference internal" href="../_modules/lib/web/http.html#lastmodified"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.http.lastmodified" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs a <cite>Last-Modified</cite> header for <cite>datetime</cite>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.http.prefixurl">
<tt class="descclassname">lib.web.http.</tt><tt class="descname">prefixurl</tt><big>(</big><em>base=''</em><big>)</big><a class="reference internal" href="../_modules/lib/web/http.html#prefixurl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.http.prefixurl" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorry, this function is really difficult to explain.
Maybe some other time.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.http.modified">
<tt class="descclassname">lib.web.http.</tt><tt class="descname">modified</tt><big>(</big><em>date=None</em>, <em>etag=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/http.html#modified"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.http.modified" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks to see if the page has been modified since the version in the
requester&#8217;s cache.</p>
<p>When you publish pages, you can include <cite>Last-Modified</cite> and <cite>ETag</cite>
with the date the page was last modified and an opaque token for
the particular version, respectively. When readers reload the page, 
the browser sends along the modification date and etag value for
the version it has in its cache. If the page hasn&#8217;t changed, 
the server can just return <cite>304 Not Modified</cite> and not have to 
send the whole page again.</p>
<p>This function takes the last-modified date <cite>date</cite> and the ETag <cite>etag</cite>
and checks the headers to see if they match. If they do, it returns 
<cite>True</cite>, or otherwise it raises NotModified error. It also sets
<cite>Last-Modified</cite> and <cite>ETag</cite> output headers.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.http.changequery">
<tt class="descclassname">lib.web.http.</tt><tt class="descname">changequery</tt><big>(</big><em>query=None</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../_modules/lib/web/http.html#changequery"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.http.changequery" title="Permalink to this definition">¶</a></dt>
<dd><p>Imagine you&#8217;re at <cite>/foo?a=1&amp;b=2</cite>. Then <cite>changequery(a=3)</cite> will return
<cite>/foo?a=3&amp;b=2</cite> &#8211; the same URL but with the arguments you requested
changed.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.http.url">
<tt class="descclassname">lib.web.http.</tt><tt class="descname">url</tt><big>(</big><em>path=None</em>, <em>doseq=False</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../_modules/lib/web/http.html#url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.http.url" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes url by concatinating web.ctx.homepath and path and the 
query string created using the arguments.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.http.profiler">
<tt class="descclassname">lib.web.http.</tt><tt class="descname">profiler</tt><big>(</big><em>app</em><big>)</big><a class="reference internal" href="../_modules/lib/web/http.html#profiler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.http.profiler" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs basic profiling information at the bottom of each response.</p>
</dd></dl>

</div>
<div class="section" id="module-lib.web.httpserver">
<span id="httpserver-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">httpserver</span></tt> Module<a class="headerlink" href="#module-lib.web.httpserver" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="lib.web.httpserver.runsimple">
<tt class="descclassname">lib.web.httpserver.</tt><tt class="descname">runsimple</tt><big>(</big><em>func</em>, <em>server_address=('0.0.0.0'</em>, <em>8080)</em><big>)</big><a class="reference internal" href="../_modules/lib/web/httpserver.html#runsimple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.httpserver.runsimple" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs [CherryPy][cp] WSGI server hosting WSGI app <cite>func</cite>. 
The directory <cite>static/</cite> is hosted statically.</p>
<p>[cp]: <a class="reference external" href="http://www.cherrypy.org">http://www.cherrypy.org</a></p>
</dd></dl>

</div>
<div class="section" id="module-lib.web.net">
<span id="net-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">net</span></tt> Module<a class="headerlink" href="#module-lib.web.net" title="Permalink to this headline">¶</a></h2>
<p>Network Utilities
(from web.py)</p>
<dl class="function">
<dt id="lib.web.net.validipaddr">
<tt class="descclassname">lib.web.net.</tt><tt class="descname">validipaddr</tt><big>(</big><em>address</em><big>)</big><a class="reference internal" href="../_modules/lib/web/net.html#validipaddr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.net.validipaddr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if <cite>address</cite> is a valid IPv4 address.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">validipaddr</span><span class="p">(</span><span class="s">&#39;192.168.1.1&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">validipaddr</span><span class="p">(</span><span class="s">&#39;192.168.1.800&#39;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">validipaddr</span><span class="p">(</span><span class="s">&#39;192.168.1&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.net.validipport">
<tt class="descclassname">lib.web.net.</tt><tt class="descname">validipport</tt><big>(</big><em>port</em><big>)</big><a class="reference internal" href="../_modules/lib/web/net.html#validipport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.net.validipport" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if <cite>port</cite> is a valid IPv4 port.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">validipport</span><span class="p">(</span><span class="s">&#39;9000&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">validipport</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">validipport</span><span class="p">(</span><span class="s">&#39;1000000&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.net.validip">
<tt class="descclassname">lib.web.net.</tt><tt class="descname">validip</tt><big>(</big><em>ip</em>, <em>defaultaddr='0.0.0.0'</em>, <em>defaultport=8080</em><big>)</big><a class="reference internal" href="../_modules/lib/web/net.html#validip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.net.validip" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>(ip_address, port)</cite> from string <cite>ip_addr_port</cite></p>
</dd></dl>

<dl class="function">
<dt id="lib.web.net.validaddr">
<tt class="descclassname">lib.web.net.</tt><tt class="descname">validaddr</tt><big>(</big><em>string_</em><big>)</big><a class="reference internal" href="../_modules/lib/web/net.html#validaddr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.net.validaddr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns either (ip_address, port) or &#8220;/path/to/socket&#8221; from <a href="#id6"><span class="problematic" id="id7">string_</span></a></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">validaddr</span><span class="p">(</span><span class="s">&#39;/path/to/socket&#39;</span><span class="p">)</span>
<span class="go">&#39;/path/to/socket&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">validaddr</span><span class="p">(</span><span class="s">&#39;8000&#39;</span><span class="p">)</span>
<span class="go">(&#39;0.0.0.0&#39;, 8000)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">validaddr</span><span class="p">(</span><span class="s">&#39;127.0.0.1&#39;</span><span class="p">)</span>
<span class="go">(&#39;127.0.0.1&#39;, 8080)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">validaddr</span><span class="p">(</span><span class="s">&#39;127.0.0.1:8000&#39;</span><span class="p">)</span>
<span class="go">(&#39;127.0.0.1&#39;, 8000)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">validaddr</span><span class="p">(</span><span class="s">&#39;fff&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">ValueError</span>: <span class="n">fff is not a valid IP address/port</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.net.urlquote">
<tt class="descclassname">lib.web.net.</tt><tt class="descname">urlquote</tt><big>(</big><em>val</em><big>)</big><a class="reference internal" href="../_modules/lib/web/net.html#urlquote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.net.urlquote" title="Permalink to this definition">¶</a></dt>
<dd><p>Quotes a string for use in a URL.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">urlquote</span><span class="p">(</span><span class="s">&#39;://?f=1&amp;j=1&#39;</span><span class="p">)</span>
<span class="go">&#39;%3A//%3Ff%3D1%26j%3D1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">urlquote</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">urlquote</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u203d</span><span class="s">&#39;</span><span class="p">)</span>
<span class="go">&#39;%E2%80%BD&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.net.httpdate">
<tt class="descclassname">lib.web.net.</tt><tt class="descname">httpdate</tt><big>(</big><em>date_obj</em><big>)</big><a class="reference internal" href="../_modules/lib/web/net.html#httpdate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.net.httpdate" title="Permalink to this definition">¶</a></dt>
<dd><p>Formats a datetime object for use in HTTP headers.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">httpdate</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1970</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">&#39;Thu, 01 Jan 1970 01:01:01 GMT&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.net.parsehttpdate">
<tt class="descclassname">lib.web.net.</tt><tt class="descname">parsehttpdate</tt><big>(</big><em>string_</em><big>)</big><a class="reference internal" href="../_modules/lib/web/net.html#parsehttpdate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.net.parsehttpdate" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses an HTTP date into a datetime object.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">parsehttpdate</span><span class="p">(</span><span class="s">&#39;Thu, 01 Jan 1970 01:01:01 GMT&#39;</span><span class="p">)</span>
<span class="go">datetime.datetime(1970, 1, 1, 1, 1, 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.net.htmlquote">
<tt class="descclassname">lib.web.net.</tt><tt class="descname">htmlquote</tt><big>(</big><em>text</em><big>)</big><a class="reference internal" href="../_modules/lib/web/net.html#htmlquote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.net.htmlquote" title="Permalink to this definition">¶</a></dt>
<dd><p>Encodes <cite>text</cite> for raw use in HTML.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">htmlquote</span><span class="p">(</span><span class="s">u&quot;&lt;&#39;&amp;</span><span class="se">\&quot;</span><span class="s">&gt;&quot;</span><span class="p">)</span>
<span class="go">u&#39;&amp;lt;&amp;#39;&amp;amp;&amp;quot;&amp;gt;&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.net.htmlunquote">
<tt class="descclassname">lib.web.net.</tt><tt class="descname">htmlunquote</tt><big>(</big><em>text</em><big>)</big><a class="reference internal" href="../_modules/lib/web/net.html#htmlunquote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.net.htmlunquote" title="Permalink to this definition">¶</a></dt>
<dd><p>Decodes <cite>text</cite> that&#8217;s HTML quoted.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">htmlunquote</span><span class="p">(</span><span class="s">u&#39;&amp;lt;&amp;#39;&amp;amp;&amp;quot;&amp;gt;&#39;</span><span class="p">)</span>
<span class="go">u&#39;&lt;\&#39;&amp;&quot;&gt;&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.net.websafe">
<tt class="descclassname">lib.web.net.</tt><tt class="descname">websafe</tt><big>(</big><em>val</em><big>)</big><a class="reference internal" href="../_modules/lib/web/net.html#websafe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.net.websafe" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts <cite>val</cite> so that it is safe for use in Unicode HTML.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">websafe</span><span class="p">(</span><span class="s">&quot;&lt;&#39;&amp;</span><span class="se">\&quot;</span><span class="s">&gt;&quot;</span><span class="p">)</span>
<span class="go">u&#39;&amp;lt;&amp;#39;&amp;amp;&amp;quot;&amp;gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">websafe</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">u&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">websafe</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u203d</span><span class="s">&#39;</span><span class="p">)</span>
<span class="go">u&#39;\u203d&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">websafe</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\xe2\x80\xbd</span><span class="s">&#39;</span><span class="p">)</span>
<span class="go">u&#39;\u203d&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-lib.web.python23">
<span id="python23-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">python23</span></tt> Module<a class="headerlink" href="#module-lib.web.python23" title="Permalink to this headline">¶</a></h2>
<p>Python 2.3 compatabilty</p>
<dl class="class">
<dt id="lib.web.python23.threadlocal">
<em class="property">class </em><tt class="descclassname">lib.web.python23.</tt><tt class="descname">threadlocal</tt><a class="reference internal" href="../_modules/lib/web/python23.html#threadlocal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.python23.threadlocal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Implementation of threading.local for python2.3.</p>
</dd></dl>

</div>
<div class="section" id="module-lib.web.session">
<span id="session-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">session</span></tt> Module<a class="headerlink" href="#module-lib.web.session" title="Permalink to this headline">¶</a></h2>
<p>Session Management
(from web.py)</p>
<dl class="class">
<dt id="lib.web.session.Session">
<em class="property">class </em><tt class="descclassname">lib.web.session.</tt><tt class="descname">Session</tt><big>(</big><em>app</em>, <em>store</em>, <em>initializer=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/session.html#Session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.session.Session" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Session management for web.py</p>
<dl class="method">
<dt id="lib.web.session.Session.expired">
<tt class="descname">expired</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/session.html#Session.expired"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.session.Session.expired" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when an expired session is atime</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.session.Session.invalidate">
<tt class="descname">invalidate</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/session.html#Session.invalidate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.session.Session.invalidate" title="Permalink to this definition">¶</a></dt>
<dd><p>Only save when the session is invalidated</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.session.Session.kill">
<tt class="descname">kill</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/session.html#Session.kill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.session.Session.kill" title="Permalink to this definition">¶</a></dt>
<dd><p>Kill the session, make it no longer available</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.session.Session.store">
<tt class="descname">store</tt><a class="headerlink" href="#lib.web.session.Session.store" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="lib.web.session.SessionExpired">
<em class="property">exception </em><tt class="descclassname">lib.web.session.</tt><tt class="descname">SessionExpired</tt><big>(</big><em>message</em><big>)</big><a class="reference internal" href="../_modules/lib/web/session.html#SessionExpired"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.session.SessionExpired" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.HTTPError" title="lib.web.webapi.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.HTTPError</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="lib.web.session.Store">
<em class="property">class </em><tt class="descclassname">lib.web.session.</tt><tt class="descname">Store</tt><a class="reference internal" href="../_modules/lib/web/session.html#Store"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.session.Store" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for session stores</p>
<dl class="method">
<dt id="lib.web.session.Store.cleanup">
<tt class="descname">cleanup</tt><big>(</big><em>timeout</em><big>)</big><a class="reference internal" href="../_modules/lib/web/session.html#Store.cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.session.Store.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>removes all the expired sessions</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.session.Store.decode">
<tt class="descname">decode</tt><big>(</big><em>session_data</em><big>)</big><a class="reference internal" href="../_modules/lib/web/session.html#Store.decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.session.Store.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>decodes the data to get back the session dict</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.session.Store.encode">
<tt class="descname">encode</tt><big>(</big><em>session_dict</em><big>)</big><a class="reference internal" href="../_modules/lib/web/session.html#Store.encode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.session.Store.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>encodes session dict as a string</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.session.DiskStore">
<em class="property">class </em><tt class="descclassname">lib.web.session.</tt><tt class="descname">DiskStore</tt><big>(</big><em>root</em><big>)</big><a class="reference internal" href="../_modules/lib/web/session.html#DiskStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.session.DiskStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.session.Store" title="lib.web.session.Store"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.session.Store</span></tt></a></p>
<p>Store for saving a session on disk.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tempfile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">DiskStore</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span>
<span class="go">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">cleanup</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">KeyError</span>: <span class="n">&#39;a&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.web.session.DiskStore.cleanup">
<tt class="descname">cleanup</tt><big>(</big><em>timeout</em><big>)</big><a class="reference internal" href="../_modules/lib/web/session.html#DiskStore.cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.session.DiskStore.cleanup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.session.DBStore">
<em class="property">class </em><tt class="descclassname">lib.web.session.</tt><tt class="descname">DBStore</tt><big>(</big><em>db</em>, <em>table_name</em><big>)</big><a class="reference internal" href="../_modules/lib/web/session.html#DBStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.session.DBStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.session.Store" title="lib.web.session.Store"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.session.Store</span></tt></a></p>
<p>Store for saving a session in database
Needs a table with the following columns:</p>
<blockquote>
<div>session_id CHAR(128) UNIQUE NOT NULL,
atime DATETIME NOT NULL default current_timestamp,
data TEXT</div></blockquote>
<dl class="method">
<dt id="lib.web.session.DBStore.cleanup">
<tt class="descname">cleanup</tt><big>(</big><em>timeout</em><big>)</big><a class="reference internal" href="../_modules/lib/web/session.html#DBStore.cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.session.DBStore.cleanup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lib.web.template">
<span id="template-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">template</span></tt> Module<a class="headerlink" href="#module-lib.web.template" title="Permalink to this headline">¶</a></h2>
<p>simple, elegant templating
(part of web.py)</p>
<p>Template design:</p>
<p>Template string is split into tokens and the tokens are combined into nodes. 
Parse tree is a nodelist. TextNode and ExpressionNode are simple nodes and 
for-loop, if-loop etc are block nodes, which contain multiple child nodes.</p>
<p>Each node can emit some python string. python string emitted by the 
root node is validated for safeeval and executed using python in the given environment.</p>
<p>Enough care is taken to make sure the generated code and the template has line to line match, 
so that the error messages can point to exact line number in template. (It doesn&#8217;t work in some cases still.)</p>
<p>Grammar:</p>
<blockquote>
<div><p>template -&gt; defwith sections 
defwith -&gt; &#8216;$def with (&#8216; arguments &#8216;)&#8217; | &#8216;&#8217;
sections -&gt; section*
section -&gt; block | assignment | line</p>
<p>assignment -&gt; &#8216;$ &#8216; &lt;assignment expression&gt;
line -&gt; (text|expr)*
text -&gt; &lt;any characters other than $&gt;
expr -&gt; &#8216;$&#8217; pyexpr | &#8216;$(&#8216; pyexpr &#8216;)&#8217; | &#8216;${&#8216; pyexpr &#8216;}&#8217;
pyexpr -&gt; &lt;python expression&gt;</p>
</div></blockquote>
<dl class="class">
<dt id="lib.web.template.Template">
<em class="property">class </em><tt class="descclassname">lib.web.template.</tt><tt class="descname">Template</tt><big>(</big><em>text</em>, <em>filename='&lt;template&gt;'</em>, <em>filter=None</em>, <em>globals=None</em>, <em>builtins=None</em>, <em>extensions=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/template.html#Template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.template.Template" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">lib.web.template.BaseTemplate</span></tt></p>
<dl class="method">
<dt id="lib.web.template.Template.compile_template">
<tt class="descname">compile_template</tt><big>(</big><em>template_string</em>, <em>filename</em><big>)</big><a class="reference internal" href="../_modules/lib/web/template.html#Template.compile_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.template.Template.compile_template" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.template.Template.create_parser">
<tt class="descname">create_parser</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/template.html#Template.create_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.template.Template.create_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="lib.web.template.Template.generate_code">
<em class="property">static </em><tt class="descname">generate_code</tt><big>(</big><em>text</em>, <em>filename</em>, <em>parser=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/template.html#Template.generate_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.template.Template.generate_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="lib.web.template.Template.normalize_text">
<em class="property">static </em><tt class="descname">normalize_text</tt><big>(</big><em>text</em><big>)</big><a class="reference internal" href="../_modules/lib/web/template.html#Template.normalize_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.template.Template.normalize_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalizes template text by correcting 
, tabs and BOM chars.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.web.template.Render">
<em class="property">class </em><tt class="descclassname">lib.web.template.</tt><tt class="descname">Render</tt><big>(</big><em>loc='templates'</em>, <em>cache=None</em>, <em>base=None</em>, <em>**keywords</em><big>)</big><a class="reference internal" href="../_modules/lib/web/template.html#Render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.template.Render" title="Permalink to this definition">¶</a></dt>
<dd><p>The most preferred way of using templates.</p>
<blockquote>
<div>render = web.template.render(&#8216;templates&#8217;)
print render.foo()</div></blockquote>
<p>Optional parameter can be <cite>base</cite> can be used to pass output of 
every template through the base template.</p>
<blockquote>
<div>render = web.template.render(&#8216;templates&#8217;, base=&#8217;layout&#8217;)</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.template.render">
<tt class="descclassname">lib.web.template.</tt><tt class="descname">render</tt><a class="headerlink" href="#lib.web.template.render" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.template.Render" title="lib.web.template.Render"><tt class="xref py py-class docutils literal"><span class="pre">Render</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="lib.web.template.frender">
<tt class="descclassname">lib.web.template.</tt><tt class="descname">frender</tt><big>(</big><em>path</em>, <em>**keywords</em><big>)</big><a class="reference internal" href="../_modules/lib/web/template.html#frender"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.template.frender" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a template from the given file path.</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.template.ParseError">
<em class="property">exception </em><tt class="descclassname">lib.web.template.</tt><tt class="descname">ParseError</tt><a class="reference internal" href="../_modules/lib/web/template.html#ParseError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.template.ParseError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.template.SecurityError">
<em class="property">exception </em><tt class="descclassname">lib.web.template.</tt><tt class="descname">SecurityError</tt><a class="reference internal" href="../_modules/lib/web/template.html#SecurityError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.template.SecurityError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>The template seems to be trying to do something naughty.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.template.test">
<tt class="descclassname">lib.web.template.</tt><tt class="descname">test</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/template.html#test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.template.test" title="Permalink to this definition">¶</a></dt>
<dd><p>Doctest for testing template module.</p>
<p>Define a utility function to run template test.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">TestResult</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="n">t</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span> <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">return</span> <span class="nb">repr</span><span class="p">(</span><span class="nb">unicode</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">t</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="o">**</span><span class="n">keywords</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">tmpl</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="o">**</span><span class="n">keywords</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="k">lambda</span> <span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">:</span> <span class="n">TestResult</span><span class="p">(</span><span class="n">tmpl</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">))</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>Simple tests.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;1&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with ()</span><span class="se">\n</span><span class="s">1&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with (a)</span><span class="se">\n</span><span class="s">$a&#39;</span><span class="p">)(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with (a=0)</span><span class="se">\n</span><span class="s">$a&#39;</span><span class="p">)(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with (a=0)</span><span class="se">\n</span><span class="s">$a&#39;</span><span class="p">)(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">u&#39;1\n&#39;</span>
</pre></div>
</div>
<p>Test complicated expressions.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with (x)</span><span class="se">\n</span><span class="s">$x.upper()&#39;</span><span class="p">)(</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
<span class="go">u&#39;HELLO\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$(2 * 3 + 4 * 5)&#39;</span><span class="p">)()</span>
<span class="go">u&#39;26\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;${2 * 3 + 4 * 5}&#39;</span><span class="p">)()</span>
<span class="go">u&#39;26\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with (limit)</span><span class="se">\n</span><span class="s">keep $(limit)ing.&#39;</span><span class="p">)(</span><span class="s">&#39;go&#39;</span><span class="p">)</span>
<span class="go">u&#39;keep going.\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with (a)</span><span class="se">\n</span><span class="s">$a.b[0]&#39;</span><span class="p">)(</span><span class="n">storage</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="go">u&#39;1\n&#39;</span>
</pre></div>
</div>
<p>Test html escaping.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with (x)</span><span class="se">\n</span><span class="s">$x&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">&#39;a.html&#39;</span><span class="p">)(</span><span class="s">&#39;&lt;html&gt;&#39;</span><span class="p">)</span>
<span class="go">u&#39;&amp;lt;html&amp;gt;\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with (x)</span><span class="se">\n</span><span class="s">$x&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">&#39;a.txt&#39;</span><span class="p">)(</span><span class="s">&#39;&lt;html&gt;&#39;</span><span class="p">)</span>
<span class="go">u&#39;&lt;html&gt;\n&#39;</span>
</pre></div>
</div>
<p>Test if, for and while.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$if 1: 1&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$if 1:</span><span class="se">\n</span><span class="s">    1&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$if 1:</span><span class="se">\n</span><span class="s">    1</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$if 0: 0</span><span class="se">\n</span><span class="s">$elif 1: 1&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$if 0: 0</span><span class="se">\n</span><span class="s">$elif None: 0</span><span class="se">\n</span><span class="s">$else: 1&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$if 0 &lt; 1 and 1 &lt; 2: 1&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$for x in [1, 2, 3]: $x&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n2\n3\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with (d)</span><span class="se">\n</span><span class="s">$for k, v in d.iteritems(): $k&#39;</span><span class="p">)({</span><span class="mi">1</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$for x in [1, 2, 3]:</span><span class="se">\n\t</span><span class="s">$x&#39;</span><span class="p">)()</span>
<span class="go">u&#39;    1\n    2\n    3\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with (a)</span><span class="se">\n</span><span class="s">$while a and a.pop():1&#39;</span><span class="p">)([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">u&#39;1\n1\n1\n&#39;</span>
</pre></div>
</div>
<p>The space after : must be ignored.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$if True: foo&#39;</span><span class="p">)()</span>
<span class="go">u&#39;foo\n&#39;</span>
</pre></div>
</div>
<p>Test loop.xxx.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&quot;$for i in range(5):$loop.index, $loop.parity&quot;</span><span class="p">)()</span>
<span class="go">u&#39;1, odd\n2, even\n3, odd\n4, even\n5, odd\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&quot;$for i in range(2):</span><span class="se">\n</span><span class="s">    $for j in range(2):$loop.parent.parity $loop.parity&quot;</span><span class="p">)()</span>
<span class="go">u&#39;odd odd\nodd even\neven odd\neven even\n&#39;</span>
</pre></div>
</div>
<p>Test assignment.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$ a = 1</span><span class="se">\n</span><span class="s">$a&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$ a = [1]</span><span class="se">\n</span><span class="s">$a[0]&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$ a = {1: 1}</span><span class="se">\n</span><span class="s">$a.keys()[0]&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$ a = []</span><span class="se">\n</span><span class="s">$if not a: 1&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$ a = {}</span><span class="se">\n</span><span class="s">$if not a: 1&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$ a = -1</span><span class="se">\n</span><span class="s">$a&#39;</span><span class="p">)()</span>
<span class="go">u&#39;-1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$ a = &quot;1&quot;</span><span class="se">\n</span><span class="s">$a&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n&#39;</span>
</pre></div>
</div>
<p>Test comments.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$# 0&#39;</span><span class="p">)()</span>
<span class="go">u&#39;\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;hello$#comment1</span><span class="se">\n</span><span class="s">hello$#comment2&#39;</span><span class="p">)()</span>
<span class="go">u&#39;hello\nhello\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$#comment0</span><span class="se">\n</span><span class="s">hello$#comment1</span><span class="se">\n</span><span class="s">hello$#comment2&#39;</span><span class="p">)()</span>
<span class="go">u&#39;\nhello\nhello\n&#39;</span>
</pre></div>
</div>
<p>Test unicode.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with (a)</span><span class="se">\n</span><span class="s">$a&#39;</span><span class="p">)(</span><span class="s">u&#39;</span><span class="se">\u203d</span><span class="s">&#39;</span><span class="p">)</span>
<span class="go">u&#39;\u203d\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with (a)</span><span class="se">\n</span><span class="s">$a&#39;</span><span class="p">)(</span><span class="s">u&#39;</span><span class="se">\u203d</span><span class="s">&#39;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;utf-8&#39;</span><span class="p">))</span>
<span class="go">u&#39;\u203d\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">u&#39;$def with (a)</span><span class="se">\n</span><span class="s">$a $:a&#39;</span><span class="p">)(</span><span class="s">u&#39;</span><span class="se">\u203d</span><span class="s">&#39;</span><span class="p">)</span>
<span class="go">u&#39;\u203d \u203d\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">u&#39;$def with ()</span><span class="se">\n</span><span class="s">foo&#39;</span><span class="p">)()</span>
<span class="go">u&#39;foo\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">u&#39;$def with (f)</span><span class="se">\n</span><span class="s">$:f(&quot;x&quot;)&#39;</span><span class="p">)(</span><span class="n">f</span><span class="p">)</span>
<span class="go">u&#39;x\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with (f)</span><span class="se">\n</span><span class="s">$:f(&quot;x&quot;)&#39;</span><span class="p">)(</span><span class="n">f</span><span class="p">)</span>
<span class="go">u&#39;x\n&#39;</span>
</pre></div>
</div>
<p>Test dollar escaping.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&quot;Stop, $$money isn&#39;t evaluated.&quot;</span><span class="p">)()</span>
<span class="go">u&quot;Stop, $money isn&#39;t evaluated.\n&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&quot;Stop, \$money isn&#39;t evaluated.&quot;</span><span class="p">)()</span>
<span class="go">u&quot;Stop, $money isn&#39;t evaluated.\n&quot;</span>
</pre></div>
</div>
<p>Test space sensitivity.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with (x)</span><span class="se">\n</span><span class="s">$x&#39;</span><span class="p">)(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$def with(x ,y)</span><span class="se">\n</span><span class="s">$x&#39;</span><span class="p">)(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$(1 + 2*3 + 4)&#39;</span><span class="p">)()</span>
<span class="go">u&#39;11\n&#39;</span>
</pre></div>
</div>
<p>Make sure globals are working.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$x&#39;</span><span class="p">)()</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">NameError</span>: <span class="n">global name &#39;x&#39; is not defined</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$x&#39;</span><span class="p">,</span> <span class="nb">globals</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})()</span>
<span class="go">u&#39;1\n&#39;</span>
</pre></div>
</div>
<p>Can&#8217;t change globals.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$ x = 2</span><span class="se">\n</span><span class="s">$x&#39;</span><span class="p">,</span> <span class="nb">globals</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})()</span>
<span class="go">u&#39;2\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$ x = x + 1</span><span class="se">\n</span><span class="s">$x&#39;</span><span class="p">,</span> <span class="nb">globals</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})()</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">UnboundLocalError</span>: <span class="n">local variable &#39;x&#39; referenced before assignment</span>
</pre></div>
</div>
<p>Make sure builtins are customizable.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$min(1, 2)&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$min(1, 2)&#39;</span><span class="p">,</span> <span class="n">builtins</span><span class="o">=</span><span class="p">{})()</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">NameError</span>: <span class="n">global name &#39;min&#39; is not defined</span>
</pre></div>
</div>
<p>Test vars.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="s">&#39;$var x: 1&#39;</span><span class="p">)()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">x</span>
<span class="go">u&#39;1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="s">&#39;$var x = 1&#39;</span><span class="p">)()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">x</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="s">&#39;$var x:  </span><span class="se">\n</span><span class="s">    foo</span><span class="se">\n</span><span class="s">    bar&#39;</span><span class="p">)()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">x</span>
<span class="go">u&#39;foo\nbar\n&#39;</span>
</pre></div>
</div>
<p>Test BOM chars.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\xef\xbb\xbf</span><span class="s">$def with(x)</span><span class="se">\n</span><span class="s">$x&#39;</span><span class="p">)(</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">u&#39;foo\n&#39;</span>
</pre></div>
</div>
<p>Test for with weird cases.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&#39;$for i in range(10)[1:5]:</span><span class="se">\n</span><span class="s">    $i&#39;</span><span class="p">)()</span>
<span class="go">u&#39;1\n2\n3\n4\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&quot;$for k, v in {&#39;a&#39;: 1, &#39;b&#39;: 2}.items():</span><span class="se">\n</span><span class="s">    $k $v&quot;</span><span class="p">)()</span>
<span class="go">u&#39;a 1\nb 2\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&quot;$for k, v in ({&#39;a&#39;: 1, &#39;b&#39;: 2}.items():</span><span class="se">\n</span><span class="s">    $k $v&quot;</span><span class="p">)()</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">SyntaxError</span>: <span class="n">invalid syntax</span>
</pre></div>
</div>
<p>Test datetime.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="s">&quot;$def with (date)</span><span class="se">\n</span><span class="s">$date.strftime(&#39;%m %Y&#39;)&quot;</span><span class="p">)(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">u&#39;01 2009\n&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="test-module">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">test</span></tt> Module<a class="headerlink" href="#test-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-lib.web.utils">
<span id="utils-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">utils</span></tt> Module<a class="headerlink" href="#module-lib.web.utils" title="Permalink to this headline">¶</a></h2>
<p>General Utilities
(part of web.py)</p>
<dl class="class">
<dt id="lib.web.utils.Storage">
<em class="property">class </em><tt class="descclassname">lib.web.utils.</tt><tt class="descname">Storage</tt><a class="reference internal" href="../_modules/lib/web/utils.html#Storage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.Storage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></p>
<p>A Storage object is like a dictionary except <cite>obj.foo</cite> can be used
in addition to <cite>obj[&#8216;foo&#8217;]</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">o</span> <span class="o">=</span> <span class="n">storage</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">o</span><span class="o">.</span><span class="n">a</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">o</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">o</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">o</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">o</span><span class="o">.</span><span class="n">a</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">o</span><span class="o">.</span><span class="n">a</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">AttributeError</span>: <span class="n">&#39;a&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.utils.storage">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">storage</tt><a class="headerlink" href="#lib.web.utils.storage" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.utils.Storage" title="lib.web.utils.Storage"><tt class="xref py py-class docutils literal"><span class="pre">Storage</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.storify">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">storify</tt><big>(</big><em>mapping</em>, <em>*requireds</em>, <em>**defaults</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#storify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.storify" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <cite>storage</cite> object from dictionary <cite>mapping</cite>, raising <cite>KeyError</cite> if
d doesn&#8217;t have all of the keys in <cite>requireds</cite> and using the default 
values for keys found in <cite>defaults</cite>.</p>
<p>For example, <cite>storify({&#8216;a&#8217;:1, &#8216;c&#8217;:3}, b=2, c=0)</cite> will return the equivalent of
<cite>storage({&#8216;a&#8217;:1, &#8216;b&#8217;:2, &#8216;c&#8217;:3})</cite>.</p>
<p>If a <cite>storify</cite> value is a list (e.g. multiple values in a form submission), 
<cite>storify</cite> returns the last element of the list, unless the key appears in 
<cite>defaults</cite> as a list. Thus:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">storify</span><span class="p">({</span><span class="s">&#39;a&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]})</span><span class="o">.</span><span class="n">a</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">storify</span><span class="p">({</span><span class="s">&#39;a&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span> <span class="n">a</span><span class="o">=</span><span class="p">[])</span><span class="o">.</span><span class="n">a</span>
<span class="go">[1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">storify</span><span class="p">({</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span> <span class="n">a</span><span class="o">=</span><span class="p">[])</span><span class="o">.</span><span class="n">a</span>
<span class="go">[1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">storify</span><span class="p">({},</span> <span class="n">a</span><span class="o">=</span><span class="p">[])</span><span class="o">.</span><span class="n">a</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Similarly, if the value has a <cite>value</cite> attribute, <cite>storify will return _its_
value, unless the key appears in `defaults</cite> as a dictionary.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">storify</span><span class="p">({</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="n">storage</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">)})</span><span class="o">.</span><span class="n">a</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">storify</span><span class="p">({</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="n">storage</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">)},</span> <span class="n">a</span><span class="o">=</span><span class="p">{})</span><span class="o">.</span><span class="n">a</span>
<span class="go">&lt;Storage {&#39;value&#39;: 1}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">storify</span><span class="p">({},</span> <span class="n">a</span><span class="o">=</span><span class="p">{})</span><span class="o">.</span><span class="n">a</span>
<span class="go">{}</span>
</pre></div>
</div>
<p>Optionally, keyword parameter <cite>_unicode</cite> can be passed to convert all values to unicode.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">storify</span><span class="p">({</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="s">&#39;a&#39;</span><span class="p">},</span> <span class="n">_unicode</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;Storage {&#39;x&#39;: u&#39;a&#39;}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">storify</span><span class="p">({</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="n">storage</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">)},</span> <span class="n">x</span><span class="o">=</span><span class="p">{},</span> <span class="n">_unicode</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;Storage {&#39;x&#39;: &lt;Storage {&#39;value&#39;: &#39;a&#39;}&gt;}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">storify</span><span class="p">({</span><span class="s">&#39;x&#39;</span><span class="p">:</span> <span class="n">storage</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">)},</span> <span class="n">_unicode</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;Storage {&#39;x&#39;: u&#39;a&#39;}&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="lib.web.utils.Counter">
<em class="property">class </em><tt class="descclassname">lib.web.utils.</tt><tt class="descname">Counter</tt><a class="reference internal" href="../_modules/lib/web/utils.html#Counter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.Counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.utils.Storage" title="lib.web.utils.Storage"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.utils.Storage</span></tt></a></p>
<p>Keeps count of how many times something is added.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">counter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<span class="go">&lt;Counter {&#39;y&#39;: 1, &#39;x&#39;: 5}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">most</span><span class="p">()</span>
<span class="go">[&#39;x&#39;]</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.web.utils.Counter.add">
<tt class="descname">add</tt><big>(</big><em>n</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#Counter.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.Counter.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.utils.Counter.least">
<tt class="descname">least</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#Counter.least"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.Counter.least" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the keys with mininum count.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.utils.Counter.most">
<tt class="descname">most</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#Counter.most"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.Counter.most" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the keys with maximum count.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.utils.Counter.percent">
<tt class="descname">percent</tt><big>(</big><em>key</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#Counter.percent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.Counter.percent" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns what percentage a certain key is of all entries.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">counter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">percent</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="go">0.75</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">percent</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="go">0.25</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.web.utils.Counter.sorted_items">
<tt class="descname">sorted_items</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#Counter.sorted_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.Counter.sorted_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns items sorted by value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">counter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">sorted_items</span><span class="p">()</span>
<span class="go">[(&#39;x&#39;, 2), (&#39;y&#39;, 1)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.web.utils.Counter.sorted_keys">
<tt class="descname">sorted_keys</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#Counter.sorted_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.Counter.sorted_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns keys sorted by value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">counter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">sorted_keys</span><span class="p">()</span>
<span class="go">[&#39;x&#39;, &#39;y&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lib.web.utils.Counter.sorted_values">
<tt class="descname">sorted_values</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#Counter.sorted_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.Counter.sorted_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns values sorted by value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">counter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">sorted_values</span><span class="p">()</span>
<span class="go">[2, 1]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="lib.web.utils.counter">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">counter</tt><a class="headerlink" href="#lib.web.utils.counter" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.utils.Counter" title="lib.web.utils.Counter"><tt class="xref py py-class docutils literal"><span class="pre">Counter</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.rstrips">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">rstrips</tt><big>(</big><em>text</em>, <em>remove</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#rstrips"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.rstrips" title="Permalink to this definition">¶</a></dt>
<dd><p>removes the string <cite>remove</cite> from the right of <cite>text</cite></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">rstrips</span><span class="p">(</span><span class="s">&quot;foobar&quot;</span><span class="p">,</span> <span class="s">&quot;bar&quot;</span><span class="p">)</span>
<span class="go">&#39;foo&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.lstrips">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">lstrips</tt><big>(</big><em>text</em>, <em>remove</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#lstrips"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.lstrips" title="Permalink to this definition">¶</a></dt>
<dd><p>removes the string <cite>remove</cite> from the left of <cite>text</cite></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">lstrips</span><span class="p">(</span><span class="s">&quot;foobar&quot;</span><span class="p">,</span> <span class="s">&quot;foo&quot;</span><span class="p">)</span>
<span class="go">&#39;bar&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lstrips</span><span class="p">(</span><span class="s">&#39;http://foo.org/&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;http://&#39;</span><span class="p">,</span> <span class="s">&#39;https://&#39;</span><span class="p">])</span>
<span class="go">&#39;foo.org/&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lstrips</span><span class="p">(</span><span class="s">&#39;FOOBARBAZ&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;FOO&#39;</span><span class="p">,</span> <span class="s">&#39;BAR&#39;</span><span class="p">])</span>
<span class="go">&#39;BAZ&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lstrips</span><span class="p">(</span><span class="s">&#39;FOOBARBAZ&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;BAR&#39;</span><span class="p">,</span> <span class="s">&#39;FOO&#39;</span><span class="p">])</span>
<span class="go">&#39;BARBAZ&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.strips">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">strips</tt><big>(</big><em>text</em>, <em>remove</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#strips"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.strips" title="Permalink to this definition">¶</a></dt>
<dd><p>removes the string <cite>remove</cite> from the both sides of <cite>text</cite></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">strips</span><span class="p">(</span><span class="s">&quot;foobarfoo&quot;</span><span class="p">,</span> <span class="s">&quot;foo&quot;</span><span class="p">)</span>
<span class="go">&#39;bar&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.safeunicode">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">safeunicode</tt><big>(</big><em>obj</em>, <em>encoding='utf-8'</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#safeunicode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.safeunicode" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts any given object to unicode string.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">safeunicode</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
<span class="go">u&#39;hello&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">safeunicode</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">u&#39;2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">safeunicode</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\xe1\x88\xb4</span><span class="s">&#39;</span><span class="p">)</span>
<span class="go">u&#39;\u1234&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.safestr">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">safestr</tt><big>(</big><em>obj</em>, <em>encoding='utf-8'</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#safestr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.safestr" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts any given object to utf-8 encoded string.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">safestr</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
<span class="go">&#39;hello&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">safestr</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u1234</span><span class="s">&#39;</span><span class="p">)</span>
<span class="go">&#39;\xe1\x88\xb4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">safestr</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;2&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.utf8">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">utf8</tt><big>(</big><em>obj</em>, <em>encoding='utf-8'</em><big>)</big><a class="headerlink" href="#lib.web.utils.utf8" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts any given object to utf-8 encoded string.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">safestr</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
<span class="go">&#39;hello&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">safestr</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u1234</span><span class="s">&#39;</span><span class="p">)</span>
<span class="go">&#39;\xe1\x88\xb4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">safestr</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;2&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="exception">
<dt id="lib.web.utils.TimeoutError">
<em class="property">exception </em><tt class="descclassname">lib.web.utils.</tt><tt class="descname">TimeoutError</tt><a class="reference internal" href="../_modules/lib/web/utils.html#TimeoutError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.TimeoutError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.timelimit">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">timelimit</tt><big>(</big><em>timeout</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#timelimit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.timelimit" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator to limit a function to <cite>timeout</cite> seconds, raising <cite>TimeoutError</cite>
if it takes longer.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">meaningoflife</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mi">42</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timelimit</span><span class="p">(</span><span class="o">.</span><span class="mi">1</span><span class="p">)(</span><span class="n">meaningoflife</span><span class="p">)()</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">TimeoutError</span>: <span class="n">took too long</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timelimit</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="n">meaningoflife</span><span class="p">)()</span>
<span class="go">42</span>
</pre></div>
</div>
<p>_Caveat:_ The function isn&#8217;t stopped after <cite>timeout</cite> seconds but continues 
executing in a separate thread. (There seems to be no way to kill a thread.)</p>
<p>inspired by &lt;<a class="reference external" href="http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/473878">http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/473878</a>&gt;</p>
</dd></dl>

<dl class="class">
<dt id="lib.web.utils.Memoize">
<em class="property">class </em><tt class="descclassname">lib.web.utils.</tt><tt class="descname">Memoize</tt><big>(</big><em>func</em>, <em>expires=None</em>, <em>background=True</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#Memoize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.Memoize" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;Memoizes&#8217; a function, caching its return values for each input.
If <cite>expires</cite> is specified, values are recalculated after <cite>expires</cite> seconds.
If <cite>background</cite> is specified, values are recalculated in a separate thread.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">calls</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">howmanytimeshaveibeencalled</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">global</span> <span class="n">calls</span>
<span class="gp">... </span>    <span class="n">calls</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">calls</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fastcalls</span> <span class="o">=</span> <span class="n">memoize</span><span class="p">(</span><span class="n">howmanytimeshaveibeencalled</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">howmanytimeshaveibeencalled</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">howmanytimeshaveibeencalled</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fastcalls</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fastcalls</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fastcalls</span> <span class="o">=</span> <span class="n">memoize</span><span class="p">(</span><span class="n">howmanytimeshaveibeencalled</span><span class="p">,</span> <span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fastcalls</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fastcalls</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fastcalls</span><span class="p">()</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">slowfunc</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">howmanytimeshaveibeencalled</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fastcalls</span> <span class="o">=</span> <span class="n">memoize</span><span class="p">(</span><span class="n">slowfunc</span><span class="p">,</span> <span class="o">.</span><span class="mi">2</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fastcalls</span><span class="p">()</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timelimit</span><span class="p">(</span><span class="o">.</span><span class="mo">05</span><span class="p">)(</span><span class="n">fastcalls</span><span class="p">)()</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timelimit</span><span class="p">(</span><span class="o">.</span><span class="mo">05</span><span class="p">)(</span><span class="n">fastcalls</span><span class="p">)()</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timelimit</span><span class="p">(</span><span class="o">.</span><span class="mo">05</span><span class="p">)(</span><span class="n">fastcalls</span><span class="p">)()</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timelimit</span><span class="p">(</span><span class="o">.</span><span class="mo">05</span><span class="p">)(</span><span class="n">fastcalls</span><span class="p">)()</span>
<span class="go">7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fastcalls</span> <span class="o">=</span> <span class="n">memoize</span><span class="p">(</span><span class="n">slowfunc</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">fastcalls</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="o">.</span><span class="mo">01</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fastcalls</span><span class="p">()</span>
<span class="go">9</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.utils.memoize">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">memoize</tt><a class="headerlink" href="#lib.web.utils.memoize" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.utils.Memoize" title="lib.web.utils.Memoize"><tt class="xref py py-class docutils literal"><span class="pre">Memoize</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.re_subm">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">re_subm</tt><big>(</big><em>pat</em>, <em>repl</em>, <em>string</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#re_subm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.re_subm" title="Permalink to this definition">¶</a></dt>
<dd><p>Like re.sub, but returns the replacement _and_ the match object.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="n">re_subm</span><span class="p">(</span><span class="s">&#39;g(oo+)fball&#39;</span><span class="p">,</span> <span class="s">r&#39;f\1lish&#39;</span><span class="p">,</span> <span class="s">&#39;goooooofball&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">&#39;foooooolish&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
<span class="go">(&#39;oooooo&#39;,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.group">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">group</tt><big>(</big><em>seq</em>, <em>size</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.group" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator over a series of lists of length size from iterable.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">group</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">[[1, 2], [3, 4]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">group</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">[[1, 2], [3, 4], [5]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.uniq">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">uniq</tt><big>(</big><em>seq</em>, <em>key=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#uniq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.uniq" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes duplicate elements from a list while preserving the order of the rest.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">uniq</span><span class="p">([</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="go">[9, 0, 2, 1]</span>
</pre></div>
</div>
<p>The value of the optional <cite>key</cite> parameter should be a function that
takes a single argument and returns a key to test the uniqueness.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">uniq</span><span class="p">([</span><span class="s">&quot;Foo&quot;</span><span class="p">,</span> <span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot;bar&quot;</span><span class="p">],</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
<span class="go">[&#39;Foo&#39;, &#39;bar&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.iterview">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">iterview</tt><big>(</big><em>x</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#iterview"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.iterview" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes an iterable <cite>x</cite> and returns an iterator over it
which prints its progress to stderr as it iterates through.</p>
</dd></dl>

<dl class="class">
<dt id="lib.web.utils.IterBetter">
<em class="property">class </em><tt class="descclassname">lib.web.utils.</tt><tt class="descname">IterBetter</tt><big>(</big><em>iterator</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#IterBetter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.IterBetter" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an object that can be used as an iterator 
but can also be used via __getitem__ (although it 
cannot go backwards &#8211; that is, you cannot request 
<cite>iterbetter[0]</cite> after requesting <cite>iterbetter[1]</cite>).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">itertools</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">iterbetter</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">count</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">IndexError</span>: <span class="n">already passed 3</span>
</pre></div>
</div>
<p>For boolean test, IterBetter peeps at first value in the itertor without effecting the iteration.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">iterbetter</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">[0, 1, 2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">iterbetter</span><span class="p">(</span><span class="nb">iter</span><span class="p">([]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.utils.iterbetter">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">iterbetter</tt><a class="headerlink" href="#lib.web.utils.iterbetter" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.utils.IterBetter" title="lib.web.utils.IterBetter"><tt class="xref py py-class docutils literal"><span class="pre">IterBetter</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.safeiter">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">safeiter</tt><big>(</big><em>it</em>, <em>cleanup=None</em>, <em>ignore_errors=True</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#safeiter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.safeiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes an iterator safe by ignoring the exceptions occured during the iteration.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.safewrite">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">safewrite</tt><big>(</big><em>filename</em>, <em>content</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#safewrite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.safewrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the content to a temp file and then moves the temp file to
given filename to avoid overwriting the existing file in case of errors.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.dictreverse">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">dictreverse</tt><big>(</big><em>mapping</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#dictreverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.dictreverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new dictionary with keys and values swapped.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dictreverse</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">4</span><span class="p">})</span>
<span class="go">{2: 1, 4: 3}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.dictfind">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">dictfind</tt><big>(</big><em>dictionary</em>, <em>element</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#dictfind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.dictfind" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a key whose value in <cite>dictionary</cite> is <cite>element</cite> 
or, if none exists, None.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dictfind</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dictfind</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.dictfindall">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">dictfindall</tt><big>(</big><em>dictionary</em>, <em>element</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#dictfindall"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.dictfindall" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the keys whose values in <cite>dictionary</cite> are <cite>element</cite>
or, if none exists, [].</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dictfindall</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">[1, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dictfindall</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.dictincr">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">dictincr</tt><big>(</big><em>dictionary</em>, <em>element</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#dictincr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.dictincr" title="Permalink to this definition">¶</a></dt>
<dd><p>Increments <cite>element</cite> in <cite>dictionary</cite>, 
setting it to one if it doesn&#8217;t exist.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dictincr</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dictincr</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.dictadd">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">dictadd</tt><big>(</big><em>*dicts</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#dictadd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.dictadd" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary consisting of the keys in the argument dictionaries.
If they share a key, the value from the last argument is used.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dictadd</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span> <span class="p">{</span><span class="mi">2</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="go">{1: 0, 2: 1, 3: 1}</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.requeue">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">requeue</tt><big>(</big><em>queue</em>, <em>index=-1</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#requeue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.requeue" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the element at index after moving it to the beginning of the queue.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">requeue</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>
<span class="go">[4, 1, 2, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.restack">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">restack</tt><big>(</big><em>stack</em>, <em>index=0</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#restack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.restack" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the element at index after moving it to the top of stack.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">restack</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>
<span class="go">[2, 3, 4, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.listget">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">listget</tt><big>(</big><em>lst</em>, <em>ind</em>, <em>default=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#listget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.listget" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>lst[ind]</cite> if it exists, <cite>default</cite> otherwise.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">listget</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;a&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">listget</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">listget</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
<span class="go">&#39;b&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.intget">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">intget</tt><big>(</big><em>integer</em>, <em>default=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#intget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.intget" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <cite>integer</cite> as an int or <cite>default</cite> if it can&#8217;t.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">intget</span><span class="p">(</span><span class="s">&#39;3&#39;</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">intget</span><span class="p">(</span><span class="s">&#39;3a&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">intget</span><span class="p">(</span><span class="s">&#39;3a&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.datestr">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">datestr</tt><big>(</big><em>then</em>, <em>now=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#datestr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.datestr" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a (UTC) datetime object to a nice string representation.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">1970</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datestr</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">now</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
<span class="go">&#39;0 microseconds ago&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">t</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">{</span>
<span class="gp">... </span>  <span class="n">timedelta</span><span class="p">(</span><span class="n">microseconds</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span> <span class="s">&#39;1 microsecond ago&#39;</span><span class="p">,</span>
<span class="gp">... </span>  <span class="n">timedelta</span><span class="p">(</span><span class="n">microseconds</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span> <span class="s">&#39;2 microseconds ago&#39;</span><span class="p">,</span>
<span class="gp">... </span>  <span class="o">-</span><span class="n">timedelta</span><span class="p">(</span><span class="n">microseconds</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span> <span class="s">&#39;1 microsecond from now&#39;</span><span class="p">,</span>
<span class="gp">... </span>  <span class="o">-</span><span class="n">timedelta</span><span class="p">(</span><span class="n">microseconds</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span> <span class="s">&#39;2 microseconds from now&#39;</span><span class="p">,</span>
<span class="gp">... </span>  <span class="n">timedelta</span><span class="p">(</span><span class="n">microseconds</span><span class="o">=</span><span class="mi">2000</span><span class="p">):</span> <span class="s">&#39;2 milliseconds ago&#39;</span><span class="p">,</span>
<span class="gp">... </span>  <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span> <span class="s">&#39;2 seconds ago&#39;</span><span class="p">,</span>
<span class="gp">... </span>  <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="mi">60</span><span class="p">):</span> <span class="s">&#39;2 minutes ago&#39;</span><span class="p">,</span>
<span class="gp">... </span>  <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="p">):</span> <span class="s">&#39;2 hours ago&#39;</span><span class="p">,</span>
<span class="gp">... </span>  <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span> <span class="s">&#39;2 days ago&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">datestr</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">now</span><span class="o">=</span><span class="n">d</span><span class="o">+</span><span class="n">t</span><span class="p">)</span> <span class="o">==</span> <span class="n">v</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datestr</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1970</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">now</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
<span class="go">&#39;January  1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datestr</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1969</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">now</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
<span class="go">&#39;January  1, 1969&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datestr</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1970</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">now</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
<span class="go">&#39;June  1, 1970&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datestr</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.numify">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">numify</tt><big>(</big><em>string</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#numify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.numify" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all non-digit characters from <cite>string</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">numify</span><span class="p">(</span><span class="s">&#39;800-555-1212&#39;</span><span class="p">)</span>
<span class="go">&#39;8005551212&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">numify</span><span class="p">(</span><span class="s">&#39;800.555.1212&#39;</span><span class="p">)</span>
<span class="go">&#39;8005551212&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.denumify">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">denumify</tt><big>(</big><em>string</em>, <em>pattern</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#denumify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.denumify" title="Permalink to this definition">¶</a></dt>
<dd><p>Formats <cite>string</cite> according to <cite>pattern</cite>, where the letter X gets replaced
by characters from <cite>string</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">denumify</span><span class="p">(</span><span class="s">&quot;8005551212&quot;</span><span class="p">,</span> <span class="s">&quot;(XXX) XXX-XXXX&quot;</span><span class="p">)</span>
<span class="go">&#39;(800) 555-1212&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.commify">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">commify</tt><big>(</big><em>n</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#commify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.commify" title="Permalink to this definition">¶</a></dt>
<dd><p>Add commas to an integer <cite>n</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">commify</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">commify</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
<span class="go">&#39;123&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">commify</span><span class="p">(</span><span class="mi">1234</span><span class="p">)</span>
<span class="go">&#39;1,234&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">commify</span><span class="p">(</span><span class="mi">1234567890</span><span class="p">)</span>
<span class="go">&#39;1,234,567,890&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">commify</span><span class="p">(</span><span class="mf">123.0</span><span class="p">)</span>
<span class="go">&#39;123.0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">commify</span><span class="p">(</span><span class="mf">1234.5</span><span class="p">)</span>
<span class="go">&#39;1,234.5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">commify</span><span class="p">(</span><span class="mf">1234.56789</span><span class="p">)</span>
<span class="go">&#39;1,234.56789&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">commify</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%.2f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="mf">1234.5</span><span class="p">)</span>
<span class="go">&#39;1,234.50&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">commify</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.dateify">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">dateify</tt><big>(</big><em>datestring</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#dateify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.dateify" title="Permalink to this definition">¶</a></dt>
<dd><p>Formats a numified <cite>datestring</cite> properly.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.nthstr">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">nthstr</tt><big>(</big><em>n</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#nthstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.nthstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Formats an ordinal.
Doesn&#8217;t handle negative numbers.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">nthstr</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;1st&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nthstr</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;0th&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">nthstr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">]]</span>
<span class="go">[&#39;2nd&#39;, &#39;3rd&#39;, &#39;4th&#39;, &#39;5th&#39;, &#39;10th&#39;, &#39;11th&#39;, &#39;12th&#39;, &#39;13th&#39;, &#39;14th&#39;, &#39;15th&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">nthstr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">91</span><span class="p">,</span> <span class="mi">92</span><span class="p">,</span> <span class="mi">93</span><span class="p">,</span> <span class="mi">94</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">102</span><span class="p">]]</span>
<span class="go">[&#39;91st&#39;, &#39;92nd&#39;, &#39;93rd&#39;, &#39;94th&#39;, &#39;99th&#39;, &#39;100th&#39;, &#39;101st&#39;, &#39;102nd&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">nthstr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">111</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">113</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">115</span><span class="p">]]</span>
<span class="go">[&#39;111th&#39;, &#39;112th&#39;, &#39;113th&#39;, &#39;114th&#39;, &#39;115th&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.cond">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">cond</tt><big>(</big><em>predicate</em>, <em>consequence</em>, <em>alternative=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#cond"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.cond" title="Permalink to this definition">¶</a></dt>
<dd><p>Function replacement for if-else to use in expressions.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cond</span><span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="s">&quot;even&quot;</span><span class="p">,</span> <span class="s">&quot;odd&quot;</span><span class="p">)</span>
<span class="go">&#39;even&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cond</span><span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="s">&quot;even&quot;</span><span class="p">,</span> <span class="s">&quot;odd&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39;_row&#39;</span>
<span class="go">&#39;even_row&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="lib.web.utils.CaptureStdout">
<em class="property">class </em><tt class="descclassname">lib.web.utils.</tt><tt class="descname">CaptureStdout</tt><big>(</big><em>func</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#CaptureStdout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.CaptureStdout" title="Permalink to this definition">¶</a></dt>
<dd><p>Captures everything <cite>func</cite> prints to stdout and returns it instead.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">idiot</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&quot;foo&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">capturestdout</span><span class="p">(</span><span class="n">idiot</span><span class="p">)()</span>
<span class="go">&#39;foo\n&#39;</span>
</pre></div>
</div>
<p><strong>WARNING:</strong> Not threadsafe!</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.utils.capturestdout">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">capturestdout</tt><a class="headerlink" href="#lib.web.utils.capturestdout" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.utils.CaptureStdout" title="lib.web.utils.CaptureStdout"><tt class="xref py py-class docutils literal"><span class="pre">CaptureStdout</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="lib.web.utils.Profile">
<em class="property">class </em><tt class="descclassname">lib.web.utils.</tt><tt class="descname">Profile</tt><big>(</big><em>func</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#Profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.Profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Profiles <cite>func</cite> and returns a tuple containing its output
and a string with human-readable profiling information.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span><span class="p">,</span> <span class="n">inf</span> <span class="o">=</span> <span class="n">profile</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">)(</span><span class="o">.</span><span class="mo">001</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inf</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="go">&#39;took 0.0&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.utils.profile">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">profile</tt><a class="headerlink" href="#lib.web.utils.profile" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.utils.Profile" title="lib.web.utils.Profile"><tt class="xref py py-class docutils literal"><span class="pre">Profile</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.tryall">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">tryall</tt><big>(</big><em>context</em>, <em>prefix=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#tryall"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.tryall" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries a series of functions and prints their results. 
<cite>context</cite> is a dictionary mapping names to values; 
the value will only be tried if it&#8217;s callable.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">tryall</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">True</span><span class="p">))</span>
<span class="go">j: True</span>
<span class="go">----------------------------------------</span>
<span class="go">results:</span>
<span class="go">   True: 1</span>
</pre></div>
</div>
<p>For example, you might have a file <cite>test/stuff.py</cite> 
with a series of functions testing various things in it. 
At the bottom, have a line:</p>
<blockquote>
<div>if __name__ == &#8220;__main__&#8221;: tryall(globals())</div></blockquote>
<p>Then you can run <cite>python test/stuff.py</cite> and get the results of 
all the tests.</p>
</dd></dl>

<dl class="class">
<dt id="lib.web.utils.ThreadedDict">
<em class="property">class </em><tt class="descclassname">lib.web.utils.</tt><tt class="descname">ThreadedDict</tt><a class="reference internal" href="../_modules/lib/web/utils.html#ThreadedDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.ThreadedDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">thread._local</span></tt></p>
<p>Thread local storage.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">ThreadedDict</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">x</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">threading</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">():</span> <span class="n">d</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">x</span>
<span class="go">1</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.web.utils.ThreadedDict.clear">
<tt class="descname">clear</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#ThreadedDict.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.ThreadedDict.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="lib.web.utils.ThreadedDict.clear_all">
<em class="property">static </em><tt class="descname">clear_all</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#ThreadedDict.clear_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.ThreadedDict.clear_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears all ThreadedDict instances.</p>
</dd></dl>

<dl class="method">
<dt id="lib.web.utils.ThreadedDict.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#ThreadedDict.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.ThreadedDict.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.utils.ThreadedDict.get">
<tt class="descname">get</tt><big>(</big><em>key</em>, <em>default=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#ThreadedDict.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.ThreadedDict.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.utils.ThreadedDict.has_key">
<tt class="descname">has_key</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#lib.web.utils.ThreadedDict.has_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.utils.ThreadedDict.items">
<tt class="descname">items</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#ThreadedDict.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.ThreadedDict.items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.utils.ThreadedDict.iter">
<tt class="descname">iter</tt><big>(</big><big>)</big><a class="headerlink" href="#lib.web.utils.ThreadedDict.iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.utils.ThreadedDict.iteritems">
<tt class="descname">iteritems</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#ThreadedDict.iteritems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.ThreadedDict.iteritems" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.utils.ThreadedDict.iterkeys">
<tt class="descname">iterkeys</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#ThreadedDict.iterkeys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.ThreadedDict.iterkeys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.utils.ThreadedDict.itervalues">
<tt class="descname">itervalues</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#ThreadedDict.itervalues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.ThreadedDict.itervalues" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.utils.ThreadedDict.keys">
<tt class="descname">keys</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#ThreadedDict.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.ThreadedDict.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.utils.ThreadedDict.pop">
<tt class="descname">pop</tt><big>(</big><em>key</em>, <em>*args</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#ThreadedDict.pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.ThreadedDict.pop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.utils.ThreadedDict.popitem">
<tt class="descname">popitem</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#ThreadedDict.popitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.ThreadedDict.popitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.utils.ThreadedDict.setdefault">
<tt class="descname">setdefault</tt><big>(</big><em>key</em>, <em>default=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#ThreadedDict.setdefault"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.ThreadedDict.setdefault" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.utils.ThreadedDict.update">
<tt class="descname">update</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#ThreadedDict.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.ThreadedDict.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.web.utils.ThreadedDict.values">
<tt class="descname">values</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#ThreadedDict.values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.ThreadedDict.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="lib.web.utils.threadeddict">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">threadeddict</tt><a class="headerlink" href="#lib.web.utils.threadeddict" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.utils.ThreadedDict" title="lib.web.utils.ThreadedDict"><tt class="xref py py-class docutils literal"><span class="pre">ThreadedDict</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.autoassign">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">autoassign</tt><big>(</big><em>self</em>, <em>locals</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#autoassign"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.autoassign" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically assigns local variables to <cite>self</cite>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span> <span class="o">=</span> <span class="n">storage</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">autoassign</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span>
<span class="go">&lt;Storage {&#39;a&#39;: 1, &#39;b&#39;: 2}&gt;</span>
</pre></div>
</div>
<p>Generally used in <cite>__init__</cite> methods, as in:</p>
<blockquote>
<div>def __init__(self, foo, bar, baz=1): autoassign(self, locals())</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.to36">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">to36</tt><big>(</big><em>q</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#to36"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.to36" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts an integer to base 36 (a useful scheme for human-sayable IDs).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">to36</span><span class="p">(</span><span class="mi">35</span><span class="p">)</span>
<span class="go">&#39;z&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to36</span><span class="p">(</span><span class="mi">119292</span><span class="p">)</span>
<span class="go">&#39;2k1o&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">to36</span><span class="p">(</span><span class="mi">939387374</span><span class="p">),</span> <span class="mi">36</span><span class="p">)</span>
<span class="go">939387374</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to36</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to36</span><span class="p">(</span><span class="o">-</span><span class="mi">393</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span> 
<span class="gr">ValueError</span>: <span class="n">must supply a positive integer</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.safemarkdown">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">safemarkdown</tt><big>(</big><em>text</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#safemarkdown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.safemarkdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts text to HTML following the rules of Markdown, but blocking any
outside HTML input, so that only the things supported by Markdown
can be used. Also converts raw URLs to links.</p>
<p>(requires [markdown.py](<a class="reference external" href="http://webpy.org/markdown.py">http://webpy.org/markdown.py</a>))</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.utils.sendmail">
<tt class="descclassname">lib.web.utils.</tt><tt class="descname">sendmail</tt><big>(</big><em>from_address</em>, <em>to_address</em>, <em>subject</em>, <em>message</em>, <em>headers=None</em>, <em>**kw</em><big>)</big><a class="reference internal" href="../_modules/lib/web/utils.html#sendmail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.utils.sendmail" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the email message <cite>message</cite> with mail and envelope headers
for from <cite>from_address_</cite> to <cite>to_address</cite> with <cite>subject</cite>. 
Additional email headers can be specified with the dictionary 
<a href="#id2"><span class="problematic" id="id3">`</span></a>headers.</p>
<p>Optionally cc, bcc and attachments can be specified as keyword arguments.
Attachments must be an iterable and each attachment can be either a
filename or a file object or a dictionary with filename, content and
optionally content_type keys.</p>
<p>If <cite>web.config.smtp_server</cite> is set, it will send the message
to that SMTP server. Otherwise it will look for 
<cite>/usr/sbin/sendmail</cite>, the typical location for the sendmail-style
binary. To use sendmail from a different path, set <cite>web.config.sendmail_path</cite>.</p>
</dd></dl>

</div>
<div class="section" id="module-lib.web.webapi">
<span id="webapi-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">webapi</span></tt> Module<a class="headerlink" href="#module-lib.web.webapi" title="Permalink to this headline">¶</a></h2>
<p>Web API (wrapper around WSGI)
(from web.py)</p>
<dl class="function">
<dt id="lib.web.webapi.header">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">header</tt><big>(</big><em>hdr</em>, <em>value</em>, <em>unique=False</em><big>)</big><a class="reference internal" href="../_modules/lib/web/webapi.html#header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the header <cite>hdr: value</cite> with the response.</p>
<p>If <cite>unique</cite> is True and a header with that name already exists,
it doesn&#8217;t add a new one.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.webapi.debug">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">debug</tt><big>(</big><em>*args</em><big>)</big><a class="reference internal" href="../_modules/lib/web/webapi.html#debug"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a prettyprinted version of <cite>args</cite> to stderr.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.webapi.input">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">input</tt><big>(</big><em>*requireds</em>, <em>**defaults</em><big>)</big><a class="reference internal" href="../_modules/lib/web/webapi.html#input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.input" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <cite>storage</cite> object with the GET and POST arguments. 
See <cite>storify</cite> for how <cite>requireds</cite> and <cite>defaults</cite> work.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.webapi.data">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">data</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/lib/web/webapi.html#data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the data sent with the request.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.webapi.setcookie">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">setcookie</tt><big>(</big><em>name</em>, <em>value</em>, <em>expires=''</em>, <em>domain=None</em>, <em>secure=False</em>, <em>httponly=False</em><big>)</big><a class="reference internal" href="../_modules/lib/web/webapi.html#setcookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.setcookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a cookie.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.webapi.cookies">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">cookies</tt><big>(</big><em>*requireds</em>, <em>**defaults</em><big>)</big><a class="reference internal" href="../_modules/lib/web/webapi.html#cookies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <cite>storage</cite> object with all the cookies in it.
See <cite>storify</cite> for how <cite>requireds</cite> and <cite>defaults</cite> work.</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.HTTPError">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">HTTPError</tt><big>(</big><em>status</em>, <em>headers={}</em>, <em>data=''</em><big>)</big><a class="reference internal" href="../_modules/lib/web/webapi.html#HTTPError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.HTTPError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.OK">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">OK</tt><big>(</big><em>data=''</em>, <em>headers={}</em><big>)</big><a class="headerlink" href="#lib.web.webapi.OK" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.HTTPError" title="lib.web.webapi.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.HTTPError</span></tt></a>, <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p><cite>200 OK</cite> status</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.Created">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">Created</tt><big>(</big><em>data='Created'</em>, <em>headers={}</em><big>)</big><a class="headerlink" href="#lib.web.webapi.Created" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.HTTPError" title="lib.web.webapi.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.HTTPError</span></tt></a>, <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p><cite>201 Created</cite> status</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.Accepted">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">Accepted</tt><big>(</big><em>data='Accepted'</em>, <em>headers={}</em><big>)</big><a class="headerlink" href="#lib.web.webapi.Accepted" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.HTTPError" title="lib.web.webapi.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.HTTPError</span></tt></a>, <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p><cite>202 Accepted</cite> status</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.ok">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">ok</tt><a class="headerlink" href="#lib.web.webapi.ok" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.OK" title="lib.web.webapi.OK"><tt class="xref py py-class docutils literal"><span class="pre">OK</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.created">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">created</tt><a class="headerlink" href="#lib.web.webapi.created" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.Created" title="lib.web.webapi.Created"><tt class="xref py py-class docutils literal"><span class="pre">Created</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.accepted">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">accepted</tt><a class="headerlink" href="#lib.web.webapi.accepted" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.Accepted" title="lib.web.webapi.Accepted"><tt class="xref py py-class docutils literal"><span class="pre">Accepted</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.Redirect">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">Redirect</tt><big>(</big><em>url</em>, <em>status='301 Moved Permanently'</em>, <em>absolute=False</em><big>)</big><a class="reference internal" href="../_modules/lib/web/webapi.html#Redirect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.Redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.HTTPError" title="lib.web.webapi.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.HTTPError</span></tt></a></p>
<p>A <cite>301 Moved Permanently</cite> redirect.</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.Found">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">Found</tt><big>(</big><em>url</em>, <em>absolute=False</em><big>)</big><a class="reference internal" href="../_modules/lib/web/webapi.html#Found"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.Found" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.Redirect" title="lib.web.webapi.Redirect"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.Redirect</span></tt></a></p>
<p>A <cite>302 Found</cite> redirect.</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.SeeOther">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">SeeOther</tt><big>(</big><em>url</em>, <em>absolute=False</em><big>)</big><a class="reference internal" href="../_modules/lib/web/webapi.html#SeeOther"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.SeeOther" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.Redirect" title="lib.web.webapi.Redirect"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.Redirect</span></tt></a></p>
<p>A <cite>303 See Other</cite> redirect.</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.NotModified">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">NotModified</tt><a class="reference internal" href="../_modules/lib/web/webapi.html#NotModified"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.NotModified" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.HTTPError" title="lib.web.webapi.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.HTTPError</span></tt></a></p>
<p>A <cite>304 Not Modified</cite> status.</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.TempRedirect">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">TempRedirect</tt><big>(</big><em>url</em>, <em>absolute=False</em><big>)</big><a class="reference internal" href="../_modules/lib/web/webapi.html#TempRedirect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.TempRedirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.Redirect" title="lib.web.webapi.Redirect"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.Redirect</span></tt></a></p>
<p>A <cite>307 Temporary Redirect</cite> redirect.</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.redirect">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">redirect</tt><a class="headerlink" href="#lib.web.webapi.redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.Redirect" title="lib.web.webapi.Redirect"><tt class="xref py py-class docutils literal"><span class="pre">Redirect</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.found">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">found</tt><a class="headerlink" href="#lib.web.webapi.found" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.Found" title="lib.web.webapi.Found"><tt class="xref py py-class docutils literal"><span class="pre">Found</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.seeother">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">seeother</tt><a class="headerlink" href="#lib.web.webapi.seeother" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.SeeOther" title="lib.web.webapi.SeeOther"><tt class="xref py py-class docutils literal"><span class="pre">SeeOther</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.notmodified">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">notmodified</tt><a class="headerlink" href="#lib.web.webapi.notmodified" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.NotModified" title="lib.web.webapi.NotModified"><tt class="xref py py-class docutils literal"><span class="pre">NotModified</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.tempredirect">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">tempredirect</tt><a class="headerlink" href="#lib.web.webapi.tempredirect" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.TempRedirect" title="lib.web.webapi.TempRedirect"><tt class="xref py py-class docutils literal"><span class="pre">TempRedirect</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.BadRequest">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">BadRequest</tt><a class="reference internal" href="../_modules/lib/web/webapi.html#BadRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.BadRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.HTTPError" title="lib.web.webapi.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.HTTPError</span></tt></a></p>
<p><cite>400 Bad Request</cite> error.</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.Unauthorized">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">Unauthorized</tt><big>(</big><em>data='Unauthorized'</em>, <em>headers={}</em><big>)</big><a class="headerlink" href="#lib.web.webapi.Unauthorized" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.HTTPError" title="lib.web.webapi.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.HTTPError</span></tt></a>, <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p><cite>401 Unauthorized</cite> status</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.Forbidden">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">Forbidden</tt><big>(</big><em>data='Forbidden'</em>, <em>headers={}</em><big>)</big><a class="headerlink" href="#lib.web.webapi.Forbidden" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.HTTPError" title="lib.web.webapi.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.HTTPError</span></tt></a>, <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p><cite>403 Forbidden</cite> status</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.webapi.NotFound">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">NotFound</tt><big>(</big><em>message=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/webapi.html#NotFound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.NotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns HTTPError with &#8216;404 Not Found&#8217; error from the active application.</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.NoMethod">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">NoMethod</tt><big>(</big><em>cls=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/webapi.html#NoMethod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.NoMethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.HTTPError" title="lib.web.webapi.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.HTTPError</span></tt></a></p>
<p>A <cite>405 Method Not Allowed</cite> error.</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.NotAcceptable">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">NotAcceptable</tt><big>(</big><em>data='Not Acceptable'</em>, <em>headers={}</em><big>)</big><a class="headerlink" href="#lib.web.webapi.NotAcceptable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.HTTPError" title="lib.web.webapi.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.HTTPError</span></tt></a>, <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p><cite>406 Not Acceptable</cite> status</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.Conflict">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">Conflict</tt><big>(</big><em>data='Conflict'</em>, <em>headers={}</em><big>)</big><a class="headerlink" href="#lib.web.webapi.Conflict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.HTTPError" title="lib.web.webapi.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.HTTPError</span></tt></a>, <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p><cite>409 Conflict</cite> status</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.Gone">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">Gone</tt><a class="reference internal" href="../_modules/lib/web/webapi.html#Gone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.Gone" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.HTTPError" title="lib.web.webapi.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.HTTPError</span></tt></a></p>
<p><cite>410 Gone</cite> error.</p>
</dd></dl>

<dl class="exception">
<dt id="lib.web.webapi.PreconditionFailed">
<em class="property">exception </em><tt class="descclassname">lib.web.webapi.</tt><tt class="descname">PreconditionFailed</tt><big>(</big><em>data='Precondition Failed'</em>, <em>headers={}</em><big>)</big><a class="headerlink" href="#lib.web.webapi.PreconditionFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.web.webapi.HTTPError" title="lib.web.webapi.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">lib.web.webapi.HTTPError</span></tt></a>, <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p><cite>412 Precondition Failed</cite> status</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.badrequest">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">badrequest</tt><a class="headerlink" href="#lib.web.webapi.badrequest" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.BadRequest" title="lib.web.webapi.BadRequest"><tt class="xref py py-class docutils literal"><span class="pre">BadRequest</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.unauthorized">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">unauthorized</tt><a class="headerlink" href="#lib.web.webapi.unauthorized" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.Unauthorized" title="lib.web.webapi.Unauthorized"><tt class="xref py py-class docutils literal"><span class="pre">Unauthorized</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.forbidden">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">forbidden</tt><a class="headerlink" href="#lib.web.webapi.forbidden" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.Forbidden" title="lib.web.webapi.Forbidden"><tt class="xref py py-class docutils literal"><span class="pre">Forbidden</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="lib.web.webapi.notfound">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">notfound</tt><big>(</big><em>message=None</em><big>)</big><a class="headerlink" href="#lib.web.webapi.notfound" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns HTTPError with &#8216;404 Not Found&#8217; error from the active application.</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.nomethod">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">nomethod</tt><a class="headerlink" href="#lib.web.webapi.nomethod" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.NoMethod" title="lib.web.webapi.NoMethod"><tt class="xref py py-class docutils literal"><span class="pre">NoMethod</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.notacceptable">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">notacceptable</tt><a class="headerlink" href="#lib.web.webapi.notacceptable" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.NotAcceptable" title="lib.web.webapi.NotAcceptable"><tt class="xref py py-class docutils literal"><span class="pre">NotAcceptable</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.conflict">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">conflict</tt><a class="headerlink" href="#lib.web.webapi.conflict" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.Conflict" title="lib.web.webapi.Conflict"><tt class="xref py py-class docutils literal"><span class="pre">Conflict</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.gone">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">gone</tt><a class="headerlink" href="#lib.web.webapi.gone" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.Gone" title="lib.web.webapi.Gone"><tt class="xref py py-class docutils literal"><span class="pre">Gone</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="lib.web.webapi.preconditionfailed">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">preconditionfailed</tt><a class="headerlink" href="#lib.web.webapi.preconditionfailed" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#lib.web.webapi.PreconditionFailed" title="lib.web.webapi.PreconditionFailed"><tt class="xref py py-class docutils literal"><span class="pre">PreconditionFailed</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="lib.web.webapi.InternalError">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">InternalError</tt><big>(</big><em>message=None</em><big>)</big><a class="reference internal" href="../_modules/lib/web/webapi.html#InternalError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.webapi.InternalError" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns HTTPError with &#8216;500 internal error&#8217; error from the active application.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.webapi.internalerror">
<tt class="descclassname">lib.web.webapi.</tt><tt class="descname">internalerror</tt><big>(</big><em>message=None</em><big>)</big><a class="headerlink" href="#lib.web.webapi.internalerror" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns HTTPError with &#8216;500 internal error&#8217; error from the active application.</p>
</dd></dl>

</div>
<div class="section" id="webopenid-module">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">webopenid</span></tt> Module<a class="headerlink" href="#webopenid-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-lib.web.wsgi">
<span id="wsgi-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">wsgi</span></tt> Module<a class="headerlink" href="#module-lib.web.wsgi" title="Permalink to this headline">¶</a></h2>
<p>WSGI Utilities
(from web.py)</p>
<dl class="function">
<dt id="lib.web.wsgi.runfcgi">
<tt class="descclassname">lib.web.wsgi.</tt><tt class="descname">runfcgi</tt><big>(</big><em>func</em>, <em>addr=('localhost'</em>, <em>8000)</em><big>)</big><a class="reference internal" href="../_modules/lib/web/wsgi.html#runfcgi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.wsgi.runfcgi" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a WSGI function as a FastCGI server.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.wsgi.runscgi">
<tt class="descclassname">lib.web.wsgi.</tt><tt class="descname">runscgi</tt><big>(</big><em>func</em>, <em>addr=('localhost'</em>, <em>4000)</em><big>)</big><a class="reference internal" href="../_modules/lib/web/wsgi.html#runscgi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.wsgi.runscgi" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a WSGI function as an SCGI server.</p>
</dd></dl>

<dl class="function">
<dt id="lib.web.wsgi.runwsgi">
<tt class="descclassname">lib.web.wsgi.</tt><tt class="descname">runwsgi</tt><big>(</big><em>func</em><big>)</big><a class="reference internal" href="../_modules/lib/web/wsgi.html#runwsgi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.web.wsgi.runwsgi" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a WSGI-compatible <cite>func</cite> using FCGI, SCGI, or a simple web server,
as appropriate based on context and <cite>sys.argv</cite>.</p>
</dd></dl>

</div>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="lib.web.contrib.html">contrib Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lib.web.contrib.html#module-lib.web.contrib.template"><tt class="docutils literal"><span class="pre">template</span></tt> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lib.web.wsgiserver.html">wsgiserver Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lib.web.wsgiserver.html#id1"><tt class="docutils literal"><span class="pre">wsgiserver</span></tt> Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="lib.web.wsgiserver.html#ssl-builtin-module"><tt class="docutils literal"><span class="pre">ssl_builtin</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="lib.web.wsgiserver.html#ssl-pyopenssl-module"><tt class="docutils literal"><span class="pre">ssl_pyopenssl</span></tt> Module</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">web Package</a><ul>
<li><a class="reference internal" href="#id1"><tt class="docutils literal"><span class="pre">web</span></tt> Package</a></li>
<li><a class="reference internal" href="#module-lib.web.application"><tt class="docutils literal"><span class="pre">application</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-lib.web.browser"><tt class="docutils literal"><span class="pre">browser</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-lib.web.db"><tt class="docutils literal"><span class="pre">db</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-lib.web.debugerror"><tt class="docutils literal"><span class="pre">debugerror</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-lib.web.form"><tt class="docutils literal"><span class="pre">form</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-lib.web.http"><tt class="docutils literal"><span class="pre">http</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-lib.web.httpserver"><tt class="docutils literal"><span class="pre">httpserver</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-lib.web.net"><tt class="docutils literal"><span class="pre">net</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-lib.web.python23"><tt class="docutils literal"><span class="pre">python23</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-lib.web.session"><tt class="docutils literal"><span class="pre">session</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-lib.web.template"><tt class="docutils literal"><span class="pre">template</span></tt> Module</a></li>
<li><a class="reference internal" href="#test-module"><tt class="docutils literal"><span class="pre">test</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-lib.web.utils"><tt class="docutils literal"><span class="pre">utils</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-lib.web.webapi"><tt class="docutils literal"><span class="pre">webapi</span></tt> Module</a></li>
<li><a class="reference internal" href="#webopenid-module"><tt class="docutils literal"><span class="pre">webopenid</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-lib.web.wsgi"><tt class="docutils literal"><span class="pre">wsgi</span></tt> Module</a></li>
<li><a class="reference internal" href="#subpackages">Subpackages</a><ul>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/modules/lib.web.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">Change by Us v2.0-alpha documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Local Projects and Code for America.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>